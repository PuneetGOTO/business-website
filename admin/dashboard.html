<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>网站管理后台</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <style>
        body {
            background-color: #f8f9fa;
        }
        .sidebar {
            position: fixed;
            top: 0;
            bottom: 0;
            left: 0;
            z-index: 100;
            padding: 48px 0 0;
            box-shadow: inset -1px 0 0 rgba(0, 0, 0, .1);
            background-color: #343a40;
        }
        .sidebar-sticky {
            position: relative;
            top: 0;
            height: calc(100vh - 48px);
            padding-top: 0.5rem;
            overflow-x: hidden;
            overflow-y: auto;
        }
        .sidebar .nav-link {
            font-weight: 500;
            color: rgba(255, 255, 255, .5);
            padding: 0.5rem 1rem;
        }
        .sidebar .nav-link:hover {
            color: #fff;
        }
        .sidebar .nav-link.active {
            color: #fff;
            background-color: rgba(255, 255, 255, .1);
        }
        .sidebar .nav-link i {
            margin-right: 10px;
        }
        .navbar-brand {
            padding-top: .75rem;
            padding-bottom: .75rem;
            font-size: 1rem;
            background-color: rgba(0, 0, 0, .25);
            box-shadow: inset -1px 0 0 rgba(0, 0, 0, .25);
        }
        .navbar .form-control {
            padding: .75rem 1rem;
            border-width: 0;
            border-radius: 0;
        }
        .form-control-dark {
            color: #fff;
            background-color: rgba(255, 255, 255, .1);
            border-color: rgba(255, 255, 255, .1);
        }
        .form-control-dark:focus {
            border-color: transparent;
            box-shadow: 0 0 0 3px rgba(255, 255, 255, .25);
        }
        .section-editor {
            display: none;
        }
        .section-editor.active {
            display: block;
        }
        .success-message {
            display: none;
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 9999;
            animation: fadeout 5s forwards;
        }
        @keyframes fadeout {
            0% { opacity: 1; }
            70% { opacity: 1; }
            100% { opacity: 0; }
        }
        
        /* 高亮效果 */
        .highlight-section {
            animation: highlight-anim 2s;
        }
        
        @keyframes highlight-anim {
            0% { background-color: rgba(255, 246, 127, 0.2); }
            50% { background-color: rgba(255, 246, 127, 0.5); }
            100% { background-color: transparent; }
        }
        
        /* 内容区域样式 */
        .section-editor {
            display: none;
            margin-bottom: 2rem;
        }
        
        .section-editor.active {
            display: block;
        }
        
        .content-section {
            margin-bottom: 1.5rem;
            padding: 1.5rem;
            background-color: #f8f9fa;
            border-radius: 0.25rem;
        }
        
        /* 快速导航样式 */
        .quick-nav {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }
        
        .quick-nav-item {
            background-color: #f0f0f0;
            border-radius: 20px;
            padding: 0.5rem 1rem;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .quick-nav-item:hover {
            background-color: #007bff;
            color: white;
        }
        
        /* 页面分类导航样式 */
        .page-categories .card-header {
            font-weight: bold;
        }
        .page-categories .list-group-item {
            transition: background-color 0.3s;
        }
        .page-categories .list-group-item:hover {
            background-color: #f8f9fa;
        }
        .page-categories .list-group-item a {
            display: block;
            color: #333;
            text-decoration: none;
        }
        .page-categories .list-group-item a:hover {
            color: #007bff;
        }
        .section-header {
            border-left: 5px solid #007bff;
            padding-left: 10px;
            margin-top: 30px;
            margin-bottom: 20px;
            background-color: #f8f9fa;
            padding: 10px;
            border-radius: 0 5px 5px 0;
        }
        .section-header.games {
            border-left-color: #28a745;
        }
        .section-header.media {
            border-left-color: #17a2b8;
        }
        
        /* 预览样式 */
        .preview-container {
            background-color: #343a40;
            padding: 15px;
            border-radius: 8px;
        }
        
        /* 比赛预览样式 */
        .match-preview-card {
            background-color: #1e2124;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            margin-bottom: 15px;
        }
        
        .team-logo {
            max-width: 80px;
            max-height: 80px;
            object-fit: contain;
        }
        
        /* 表单样式 */
        .content-section {
            margin-bottom: 2rem;
            background-color: #fff;
            border-radius: 0.25rem;
            padding: 1.5rem;
            box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);
        }
        
        .success-message {
            position: fixed;
            top: 20px;
            right: 20px;
            max-width: 300px;
            z-index: 1060;
        }
        
        /* 媒体库样式 */
        .media-item {
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .media-item:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .media-item.selected {
            border: 3px solid #007bff;
        }
        
        /* 添加分类过滤器样式 */
        .media-category-filter {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 4px;
            margin-bottom: 20px;
        }
        
        .media-category-filter .btn-group {
            flex-wrap: wrap;
        }
        
        .media-category-filter .btn {
            margin-right: 2px;
            margin-bottom: 5px;
        }
        
        /* 添加搜索框样式 */
        .media-search {
            margin-bottom: 15px;
        }
        
        /* 添加收藏标记样式 */
        .favorite-badge {
            position: absolute;
            top: 5px;
            right: 5px;
            background-color: rgba(255, 193, 7, 0.8);
            color: #000;
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 12px;
        }
    </style>
    
    <!-- 临时修复：强制设置登录信息 -->
    <script>
        // 确保页面加载时设置登录状态
        sessionStorage.setItem('adminLoggedIn', 'true');
        sessionStorage.setItem('adminEmail', 'an920513@gmail.com');
        sessionStorage.setItem('adminToken', 'dummy-token-for-admin');
    </script>
</head>
<body>
    <nav class="navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0 shadow">
        <a class="navbar-brand col-md-3 col-lg-2 mr-0 px-3" href="#">网站管理后台</a>
        <button class="navbar-toggler position-absolute d-md-none collapsed" type="button" data-toggle="collapse" data-target="#sidebarMenu" aria-controls="sidebarMenu" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <ul class="navbar-nav px-3 ml-auto">
            <li class="nav-item text-nowrap">
                <a class="nav-link" href="#" id="logoutButton">登出</a>
            </li>
        </ul>
    </nav>

    <div class="container-fluid">
        <div class="row">
            <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block bg-dark sidebar collapse">
                <div class="sidebar-sticky pt-3">
                    <ul class="nav flex-column">
                        <li class="nav-item">
                            <a class="nav-link active" href="#" data-section="home-section">
                                <i class="fas fa-home"></i> 首页管理
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" data-section="about-section">
                                <i class="fas fa-info-circle"></i> 关于我们
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" data-section="services-section">
                                <i class="fas fa-cogs"></i> 服务内容
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" data-section="portfolio-section">
                                <i class="fas fa-project-diagram"></i> 案例展示
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" data-section="team-section">
                                <i class="fas fa-users"></i> 团队成员
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" data-section="contact-section">
                                <i class="fas fa-envelope"></i> 联系方式
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" data-section="media-section">
                                <i class="fas fa-images"></i> 媒体管理
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>

            <main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-md-4 mt-4">
                <!-- 消息容器 -->
                <div id="messageContainer" class="fixed-top container mt-5" style="z-index: 9999;"></div>
                
                <div class="alert alert-success success-message" id="successMessage" style="display: none;">
                    修改已保存！
                </div>
                
                <!-- 页面分类导航 -->
                <div class="page-categories mb-4">
                    <h4>页面分类</h4>
                    <div class="row">
                        <div class="col-md-4">
                            <div class="card mb-3">
                                <div class="card-header bg-primary text-white">
                                    <i class="fas fa-home"></i> 主要页面
                                </div>
                                <div class="card-body">
                                    <ul class="list-group">
                                        <li class="list-group-item"><a href="#home-section" class="quick-nav">首页 (Home)</a></li>
                                        <li class="list-group-item"><a href="#about-section" class="quick-nav">关于我们 (About)</a></li>
                                        <li class="list-group-item"><a href="#contact-section" class="quick-nav">联系我们 (Contact)</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="card mb-3">
                                <div class="card-header bg-success text-white">
                                    <i class="fas fa-gamepad"></i> 游戏内容
                                </div>
                                <div class="card-body">
                                    <ul class="list-group">
                                        <li class="list-group-item"><a href="#home-section" class="quick-nav" onclick="scrollToElement('#upcomingMatchesForm')">游戏页面 (Games)</a></li>
                                        <li class="list-group-item"><a href="#home-section" class="quick-nav" onclick="scrollToElement('#indexDetailForm')">比赛详情 (Detail)</a></li>
                                        <li class="list-group-item"><a href="#home-section" class="quick-nav" onclick="scrollToElement('#upcomingMatchesForm')">即将举行的比赛</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="card mb-3">
                                <div class="card-header bg-info text-white">
                                    <i class="fas fa-image"></i> 媒体内容
                                </div>
                                <div class="card-body">
                                    <ul class="list-group">
                                        <li class="list-group-item"><a href="#portfolio-section" class="quick-nav">图库 (Gallery)</a></li>
                                        <li class="list-group-item"><a href="#services-section" class="quick-nav">特色服务</a></li>
                                        <li class="list-group-item"><a href="#team-section" class="quick-nav">团队成员</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- 首页管理 -->
                <div class="section-editor active" id="home-section">
                    <h2>首页管理</h2>
                    <div class="content-section">
                        <h3>快速修改导航</h3>
                        <div class="alert alert-info">
                            <strong>提示:</strong> 使用下方链接快速跳转到需要修改的内容，无需手动搜索。
                        </div>
                        
                        <div class="card mb-4">
                            <div class="card-header bg-primary text-white">
                                <h5 class="mb-0">网站内容编辑</h5>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="list-group">
                                            <a href="#homeHeaderForm" class="list-group-item list-group-item-action">
                                                <i class="fa fa-edit"></i> 首页标题与描述
                                            </a>
                                            <a href="#featuredServicesForm" class="list-group-item list-group-item-action">
                                                <i class="fa fa-edit"></i> 特色服务
                                            </a>
                                            <a href="#upcomingMatchesForm" class="list-group-item list-group-item-action">
                                                <i class="fa fa-edit"></i> 即将到来的比赛
                                            </a>
                                            <a href="#indexPageContentForm" class="list-group-item list-group-item-action bg-success text-white">
                                                <i class="fa fa-edit"></i> 首页详细内容
                                            </a>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="list-group">
                                            <a href="#aboutForm" class="list-group-item list-group-item-action">
                                                <i class="fa fa-edit"></i> 关于我们内容
                                            </a>
                                            <a href="#aboutPageContentForm" class="list-group-item list-group-item-action bg-success text-white">
                                                <i class="fa fa-edit"></i> 关于页面详细内容
                                            </a>
                                            <a href="#servicesForm" class="list-group-item list-group-item-action">
                                                <i class="fa fa-edit"></i> 服务项目内容
                                            </a>
                                            <a href="#portfolioForm" class="list-group-item list-group-item-action">
                                                <i class="fa fa-edit"></i> 案例展示内容
                                            </a>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="list-group">
                                            <a href="#teamForm" class="list-group-item list-group-item-action">
                                                <i class="fa fa-edit"></i> 团队成员内容
                                            </a>
                                            <a href="#contactForm" class="list-group-item list-group-item-action">
                                                <i class="fa fa-edit"></i> 联系方式内容
                                            </a>
                                            <a href="#siteCommonElementsForm" class="list-group-item list-group-item-action bg-success text-white">
                                                <i class="fa fa-edit"></i> 页眉页脚公共元素
                                            </a>
                                            <a href="#htmlEditorContainer" class="list-group-item list-group-item-action bg-warning text-dark">
                                                <i class="fa fa-code"></i> HTML直接编辑
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="content-section">
                        <h3>首页标题与描述</h3>
                        <form id="homeHeaderForm">
                            <div class="form-group">
                                <label for="homeTitle">首页标题 (支持HTML):</label>
                                <input type="text" class="form-control" id="homeTitle" name="title">
                            </div>
                            <div class="form-group">
                                <label for="homeDescription">首页描述 (支持HTML):</label>
                                <textarea class="form-control html-editor" id="homeDescription" name="description" rows="4"></textarea>
                                <small class="form-text text-muted">可以使用HTML标签添加格式，例如：&lt;strong&gt;粗体文本&lt;/strong&gt;, &lt;em&gt;斜体文本&lt;/em&gt;, &lt;a href="..."&gt;链接&lt;/a&gt;</small>
                            </div>
                            <button type="submit" class="btn btn-primary">保存修改</button>
                        </form>
                    </div>
                    
                    <div class="content-section">
                        <h3>特色游戏</h3>
                        <form id="featuredServicesForm">
                            <div class="form-group">
                                <label for="game1Title">游戏1标题 (支持HTML):</label>
                                <input type="text" class="form-control" id="game1Title" name="service1Title">
                            </div>
                            <div class="form-group">
                                <label for="game1Description">游戏1描述 (支持HTML):</label>
                                <textarea class="form-control html-editor" id="game1Description" name="service1Description" rows="3"></textarea>
                            </div>
                            <div class="form-group">
                                <label for="game1Icon">游戏1图标类名 (例如: fa-gamepad):</label>
                                <input type="text" class="form-control" id="game1Icon" name="service1Icon">
                            </div>
                            
                            <div class="form-group">
                                <label for="game2Title">游戏2标题 (支持HTML):</label>
                                <input type="text" class="form-control" id="game2Title" name="service2Title">
                            </div>
                            <div class="form-group">
                                <label for="game2Description">游戏2描述 (支持HTML):</label>
                                <textarea class="form-control html-editor" id="game2Description" name="service2Description" rows="3"></textarea>
                            </div>
                            <div class="form-group">
                                <label for="game2Icon">游戏2图标类名 (例如: fa-gamepad):</label>
                                <input type="text" class="form-control" id="game2Icon" name="service2Icon">
                            </div>
                            
                            <div class="form-group">
                                <label for="game3Title">游戏3标题 (支持HTML):</label>
                                <input type="text" class="form-control" id="game3Title" name="service3Title">
                            </div>
                            <div class="form-group">
                                <label for="game3Description">游戏3描述 (支持HTML):</label>
                                <textarea class="form-control html-editor" id="game3Description" name="service3Description" rows="3"></textarea>
                            </div>
                            <div class="form-group">
                                <label for="game3Icon">游戏3图标类名 (例如: fa-gamepad):</label>
                                <input type="text" class="form-control" id="game3Icon" name="service3Icon">
                            </div>
                            
                            <button type="submit" class="btn btn-primary">保存修改</button>
                        </form>
                    </div>
                    
                    <div class="content-section">
                        <h3>即将到来的比赛</h3>
                        <form id="upcomingMatchesForm">
                            <div class="form-group">
                                <label for="upcomingMatchesTitle">即将到来的比赛标题:</label>
                                <input type="text" class="form-control match-input" id="upcomingMatchesTitle" name="upcomingMatchesTitle" 
                                       placeholder="Upcoming Matches" data-preview-update="true">
                            </div>
                            
                            <div class="alert alert-info mb-4">
                                <i class="fas fa-info-circle"></i> 下面的表单编辑将实时更新右侧的前端预览效果，帮助您直观了解内容在前端的展示方式
                            </div>
                            
                            <div class="row">
                                <div class="col-lg-6">
                                    <!-- 比赛编辑表单 -->
                                    <div class="form-group">
                                        <label for="match1Teams">比赛队伍 (例如: TSB vs. Wolves):</label>
                                        <input type="text" class="form-control match-input" id="match1Teams" name="match1Teams" 
                                               placeholder="TSB vs. Wolves" data-preview-update="true">
                                    </div>
                                    
                                    <h6 class="mt-4">比赛1配置:</h6>
                                    <div class="form-group">
                                        <label for="match1Date">比赛1日期:</label>
                                        <input type="text" class="form-control match-input" id="match1Date" name="match1Date" 
                                               placeholder="March 29,2021" data-preview-update="true">
                                    </div>
                                    <div class="form-group">
                                        <label for="match1Time">比赛1时间:</label>
                                        <input type="text" class="form-control match-input" id="match1Time" name="match1Time" 
                                               placeholder="4:00 Pm" data-preview-update="true">
                                    </div>
                                    <div class="form-group">
                                        <label for="match1Groups">比赛1分组:</label>
                                        <input type="text" class="form-control match-input" id="match1Groups" name="match1Groups" 
                                               placeholder="2 Groups" data-preview-update="true">
                                    </div>
                                    <div class="form-group">
                                        <label for="match1Players">比赛1玩家数:</label>
                                        <input type="text" class="form-control match-input" id="match1Players" name="match1Players" 
                                               placeholder="32 Players" data-preview-update="true">
                                    </div>
                                    <div class="form-group">
                                        <label for="match1PrizeLabel">比赛1奖池标签:</label>
                                        <input type="text" class="form-control match-input" id="match1PrizeLabel" name="match1PrizeLabel" 
                                               placeholder="Prize Pool" data-preview-update="true">
                                    </div>
                                    <div class="form-group">
                                        <label for="match1Prize">比赛1奖金:</label>
                                        <input type="text" class="form-control match-input" id="match1Prize" name="match1Prize" 
                                               placeholder="$5000" data-preview-update="true">
                                    </div>
                                    
                                    <div class="form-group mt-2">
                                        <label for="match1Team1Logo">队伍1 Logo URL:</label>
                                        <div class="input-group">
                                            <input type="text" class="form-control match-input" id="match1Team1Logo" name="match1Team1Logo" 
                                                   placeholder="../assets/picture/team1.png" data-preview-update="true">
                                            <div class="input-group-append">
                                                <button class="btn btn-outline-secondary team-logo-select-btn" type="button" data-target-input="match1Team1Logo">选择</button>
                                                <button class="btn btn-outline-primary team-logo-upload-btn" type="button" data-target-input="match1Team1Logo">上传</button>
                                            </div>
                                        </div>
                                        <div class="logo-preview mt-2 d-none">
                                            <img id="match1Team1LogoPreview" src="../assets/picture/team1.png" class="team-logo" alt="队伍1 Logo">
                                        </div>
                                        <small class="form-text text-muted">可以使用图片URL或上传自定义Logo</small>
                                    </div>
                                    
                                    <div class="form-group mt-2">
                                        <label for="match1Team2Logo">队伍2 Logo URL:</label>
                                        <div class="input-group">
                                            <input type="text" class="form-control match-input" id="match1Team2Logo" name="match1Team2Logo" 
                                                   placeholder="../assets/picture/team2.png" data-preview-update="true">
                                            <div class="input-group-append">
                                                <button class="btn btn-outline-secondary team-logo-select-btn" type="button" data-target-input="match1Team2Logo">选择</button>
                                                <button class="btn btn-outline-primary team-logo-upload-btn" type="button" data-target-input="match1Team2Logo">上传</button>
                                            </div>
                                        </div>
                                        <div class="logo-preview mt-2 d-none">
                                            <img id="match1Team2LogoPreview" src="../assets/picture/team2.png" class="team-logo" alt="队伍2 Logo">
                                        </div>
                                        <small class="form-text text-muted">可以使用图片URL或上传自定义Logo</small>
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <!-- 比赛前端预览 -->
                                    <div class="card mb-3">
                                        <div class="card-header bg-dark text-white">
                                            <h5 class="mb-0">前端效果预览</h5>
                                        </div>
                                        <div class="card-body p-0">
                                            <div id="matchPreviewContainer" class="bg-dark text-white p-3">
                                                <h4 class="text-center text-white mb-4" id="previewMatchesTitle">即将举行的比赛</h4>
                                                <div class="match-preview-card">
                                                    <div class="row align-items-center p-3">
                                                        <div class="col-3 text-center">
                                                            <img id="previewTeam1Logo" src="../assets/picture/team1.png" class="team-logo" alt="队伍1">
                                                        </div>
                                                        <div class="col-1 text-center">
                                                            <h5 class="text-white">VS</h5>
                                                        </div>
                                                        <div class="col-3 text-center">
                                                            <img id="previewTeam2Logo" src="../assets/picture/team2.png" class="team-logo" alt="队伍2">
                                                        </div>
                                                        <div class="col-5">
                                                            <h5 id="previewMatchName" class="text-white">比赛名称</h5>
                                                            <div class="d-flex align-items-center mb-2">
                                                                <i class="fas fa-calendar-alt mr-2 text-white-50"></i>
                                                                <span id="previewMatchDate" class="mr-3 text-white-50">比赛日期</span>
                                                                <i class="far fa-clock mr-2 text-white-50"></i>
                                                                <span id="previewMatchTime" class="text-white-50">比赛时间</span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="row mt-2 pb-3 px-3">
                                                        <div class="col-12">
                                                            <span id="previewMatchGroups" class="badge badge-danger mr-2">分组</span>
                                                            <span id="previewMatchPlayers" class="badge badge-danger mr-2">玩家数</span>
                                                            <span class="badge badge-danger"><span id="previewMatchPrizeLabel">奖池:</span> <span id="previewMatchPrize">奖金</span></span>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="text-center mt-3">
                                                    <a href="#" class="btn btn-danger btn-sm">查看更多</a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- 预览风格选择 -->
                                    <div class="card">
                                        <div class="card-header bg-primary text-white">
                                            <h5 class="mb-0">预览风格</h5>
                                        </div>
                                        <div class="card-body">
                                            <div class="form-group">
                                                <label>选择预览风格：</label>
                                                <div class="form-check">
                                                    <input class="form-check-input" type="radio" name="previewStyle" id="styleModern" value="modern" checked>
                                                    <label class="form-check-label" for="styleModern">
                                                        现代卡片式风格 (如图1)
                                                    </label>
                                                </div>
                                                <div class="form-check">
                                                    <input class="form-check-input" type="radio" name="previewStyle" id="styleClassic" value="classic">
                                                    <label class="form-check-label" for="styleClassic">
                                                        经典表单式风格 (如图2)
                                                    </label>
                                                </div>
                                            </div>
                                            <div class="alert alert-warning small">
                                                <i class="fas fa-info-circle"></i> 预览仅展示编辑中的比赛1信息，保存后所有比赛将在前端显示
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <h6 class="mt-4">比赛2配置:</h6>
                            <div class="form-group">
                                <label for="match2Teams">比赛2队伍 (支持HTML):</label>
                                <input type="text" class="form-control match-input" id="match2Teams" name="match2Teams" 
                                       placeholder="TSB vs. Golden Knights" data-preview-update="false">
                            </div>
                            <div class="form-group">
                                <label for="match2Date">比赛2日期:</label>
                                <input type="text" class="form-control match-input" id="match2Date" name="match2Date" 
                                       placeholder="April 15,2021" data-preview-update="false">
                            </div>
                            <div class="form-group">
                                <label for="match2Time">比赛2时间:</label>
                                <input type="text" class="form-control match-input" id="match2Time" name="match2Time" 
                                       placeholder="6:00 Pm" data-preview-update="false">
                            </div>
                            <div class="form-group">
                                <label for="match2Groups">比赛2分组:</label>
                                <input type="text" class="form-control match-input" id="match2Groups" name="match2Groups" 
                                       placeholder="4 Groups" data-preview-update="false">
                            </div>
                            <div class="form-group">
                                <label for="match2Players">比赛2玩家数:</label>
                                <input type="text" class="form-control match-input" id="match2Players" name="match2Players" 
                                       placeholder="48 Players" data-preview-update="false">
                            </div>
                            <div class="form-group">
                                <label for="match2PrizeLabel">比赛2奖池标签:</label>
                                <input type="text" class="form-control match-input" id="match2PrizeLabel" name="match2PrizeLabel" 
                                       placeholder="Prize Pool" data-preview-update="false">
                            </div>
                            <div class="form-group">
                                <label for="match2Prize">比赛2奖金:</label>
                                <input type="text" class="form-control match-input" id="match2Prize" name="match2Prize" 
                                       placeholder="$8000" data-preview-update="false">
                            </div>
                            
                            <div class="form-group mt-4">
                                <label for="match2Team1Logo">队伍1 Logo URL:</label>
                                <div class="input-group">
                                    <input type="text" class="form-control match-input" id="match2Team1Logo" name="match2Team1Logo" 
                                           placeholder="../assets/picture/team1.png" data-preview-update="false">
                                    <div class="input-group-append">
                                        <button class="btn btn-outline-secondary team-logo-select-btn" type="button" data-target-input="match2Team1Logo">选择</button>
                                        <button class="btn btn-outline-primary team-logo-upload-btn" type="button" data-target-input="match2Team1Logo">上传</button>
                                    </div>
                                </div>
                                <div class="logo-preview mt-2 d-none">
                                    <img id="match2Team1LogoPreview" src="../assets/picture/team1.png" class="team-logo" alt="队伍1 Logo">
                                </div>
                                <small class="form-text text-muted">可以使用图片URL或上传自定义Logo</small>
                            </div>
                            
                            <div class="form-group mt-2">
                                <label for="match2Team2Logo">队伍2 Logo URL:</label>
                                <div class="input-group">
                                    <input type="text" class="form-control match-input" id="match2Team2Logo" name="match2Team2Logo" 
                                           placeholder="../assets/picture/team2.png" data-preview-update="false">
                                    <div class="input-group-append">
                                        <button class="btn btn-outline-secondary team-logo-select-btn" type="button" data-target-input="match2Team2Logo">选择</button>
                                        <button class="btn btn-outline-primary team-logo-upload-btn" type="button" data-target-input="match2Team2Logo">上传</button>
                                    </div>
                                </div>
                                <div class="logo-preview mt-2 d-none">
                                    <img id="match2Team2LogoPreview" src="../assets/picture/team2.png" class="team-logo" alt="队伍2 Logo">
                                </div>
                                <small class="form-text text-muted">可以使用图片URL或上传自定义Logo</small>
                            </div>
                            
                            <h6 class="mt-4">比赛3配置:</h6>
                            <div class="form-group">
                                <label for="match3Teams">比赛3队伍 (支持HTML):</label>
                                <input type="text" class="form-control match-input" id="match3Teams" name="match3Teams" 
                                       placeholder="悬崖队 vs. 火山队" data-preview-update="false">
                            </div>
                            
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="match3Date">比赛3日期:</label>
                                        <input type="text" class="form-control match-input" id="match3Date" name="match3Date" 
                                               placeholder="May 10, 2025" data-preview-update="false">
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="match3Time">比赛3时间:</label>
                                        <input type="text" class="form-control match-input" id="match3Time" name="match3Time" 
                                               placeholder="8:00 PM" data-preview-update="false">
                                    </div>
                                </div>
                            </div>
                            
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="match3PrizeLabel">比赛3奖金标签:</label>
                                        <input type="text" class="form-control match-input" id="match3PrizeLabel" name="match3PrizeLabel" 
                                               placeholder="Prize Pool" data-preview-update="false">
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="match3Prize">比赛3奖金:</label>
                                        <input type="text" class="form-control match-input" id="match3Prize" name="match3Prize" 
                                               placeholder="$8000" data-preview-update="false">
                                    </div>
                                </div>
                            </div>
                            
                            <div class="form-group mt-2">
                                <label for="match3Team1Logo">队伍1 Logo URL:</label>
                                <div class="input-group">
                                    <input type="text" class="form-control match-input" id="match3Team1Logo" name="match3Team1Logo" 
                                           placeholder="../assets/picture/team1.png" data-preview-update="false">
                                    <div class="input-group-append">
                                        <button class="btn btn-outline-secondary team-logo-select-btn" type="button" data-target-input="match3Team1Logo">选择</button>
                                        <button class="btn btn-outline-primary team-logo-upload-btn" type="button" data-target-input="match3Team1Logo">上传</button>
                                    </div>
                                </div>
                                <div class="logo-preview mt-2 d-none">
                                    <img id="match3Team1LogoPreview" src="../assets/picture/team1.png" class="team-logo" alt="队伍1 Logo">
                                </div>
                                <small class="form-text text-muted">可以使用图片URL或上传自定义Logo</small>
                            </div>
                            
                            <div class="form-group mt-2">
                                <label for="match3Team2Logo">队伍2 Logo URL:</label>
                                <div class="input-group">
                                    <input type="text" class="form-control match-input" id="match3Team2Logo" name="match3Team2Logo" 
                                           placeholder="../assets/picture/team2.png" data-preview-update="false">
                                    <div class="input-group-append">
                                        <button class="btn btn-outline-secondary team-logo-select-btn" type="button" data-target-input="match3Team2Logo">选择</button>
                                        <button class="btn btn-outline-primary team-logo-upload-btn" type="button" data-target-input="match3Team2Logo">上传</button>
                                    </div>
                                </div>
                                <div class="logo-preview mt-2 d-none">
                                    <img id="match3Team2LogoPreview" src="../assets/picture/team2.png" class="team-logo" alt="队伍2 Logo">
                                </div>
                                <small class="form-text text-muted">可以使用图片URL或上传自定义Logo</small>
                            </div>
                            
                            <h6 class="mt-4">比赛4配置:</h6>
                            <div class="form-group">
                                <label for="match4Teams">比赛4队伍 (支持HTML):</label>
                                <input type="text" class="form-control match-input" id="match4Teams" name="match4Teams" 
                                       placeholder="天空队 vs. 大地队" data-preview-update="false">
                            </div>
                            
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="match4Date">比赛4日期:</label>
                                        <input type="text" class="form-control match-input" id="match4Date" name="match4Date" 
                                               placeholder="May 25, 2025" data-preview-update="false">
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="match4Time">比赛4时间:</label>
                                        <input type="text" class="form-control match-input" id="match4Time" name="match4Time" 
                                               placeholder="5:00 PM" data-preview-update="false">
                                    </div>
                                </div>
                            </div>
                            
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="match4PrizeLabel">比赛4奖金标签:</label>
                                        <input type="text" class="form-control match-input" id="match4PrizeLabel" name="match4PrizeLabel" 
                                               placeholder="Prize Pool" data-preview-update="false">
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="match4Prize">比赛4奖金:</label>
                                        <input type="text" class="form-control match-input" id="match4Prize" name="match4Prize" 
                                               placeholder="$7500" data-preview-update="false">
                                    </div>
                                </div>
                            </div>
                            
                            <div class="form-group mt-2">
                                <label for="match4Team1Logo">队伍1 Logo URL:</label>
                                <div class="input-group">
                                    <input type="text" class="form-control match-input" id="match4Team1Logo" name="match4Team1Logo" 
                                           placeholder="../assets/picture/team1.png" data-preview-update="false">
                                    <div class="input-group-append">
                                        <button class="btn btn-outline-secondary team-logo-select-btn" type="button" data-target-input="match4Team1Logo">选择</button>
                                        <button class="btn btn-outline-primary team-logo-upload-btn" type="button" data-target-input="match4Team1Logo">上传</button>
                                    </div>
                                </div>
                                <div class="logo-preview mt-2 d-none">
                                    <img id="match4Team1LogoPreview" src="../assets/picture/team1.png" class="team-logo" alt="队伍1 Logo">
                                </div>
                                <small class="form-text text-muted">可以使用图片URL或上传自定义Logo</small>
                            </div>
                            
                            <div class="form-group mt-2">
                                <label for="match4Team2Logo">队伍2 Logo URL:</label>
                                <div class="input-group">
                                    <input type="text" class="form-control match-input" id="match4Team2Logo" name="match4Team2Logo" 
                                           placeholder="../assets/picture/team2.png" data-preview-update="false">
                                    <div class="input-group-append">
                                        <button class="btn btn-outline-secondary team-logo-select-btn" type="button" data-target-input="match4Team2Logo">选择</button>
                                        <button class="btn btn-outline-primary team-logo-upload-btn" type="button" data-target-input="match4Team2Logo">上传</button>
                                    </div>
                                </div>
                                <div class="logo-preview mt-2 d-none">
                                    <img id="match4Team2LogoPreview" src="../assets/picture/team2.png" class="team-logo" alt="队伍2 Logo">
                                </div>
                                <small class="form-text text-muted">可以使用图片URL或上传自定义Logo</small>
                            </div>
                            
                            <div class="form-group mt-4">
                                <button type="submit" class="btn btn-primary">保存比赛信息</button>
                            </div>
                        </form>
                    </div>
                    
                    <div class="content-section">
                        <h3>直接HTML编辑</h3>
                        <div class="alert alert-warning">
                            <strong>注意:</strong> 直接编辑HTML代码可能会影响网站的布局和功能。请确保您了解HTML代码的结构后再进行修改。
                        </div>
                        <div class="form-group">
                            <label for="htmlFileSelect">选择要编辑的HTML文件:</label>
                            <select class="form-control" id="htmlFileSelect">
                                <option value="">-- 请选择 --</option>
                                <option value="index.html">首页 (index.html)</option>
                                <option value="about.html">关于我们 (about.html)</option>
                                <option value="games.html">游戏 (games.html)</option>
                                <option value="gallery.html">图库 (gallery.html)</option>
                                <option value="contact.html">联系我们 (contact.html)</option>
                                <option value="match_detail.html">比赛详情 (match_detail.html)</option>
                            </select>
                        </div>
                        <button type="button" class="btn btn-primary" id="loadHtmlBtn">加载文件内容</button>
                        
                        <div id="htmlEditorContainer" class="mt-4" style="display: none;">
                            <form id="htmlEditorForm">
                                <div class="form-group">
                                    <label for="htmlEditor">HTML内容:</label>
                                    <textarea class="form-control" id="htmlEditor" rows="15" style="font-family: monospace;"></textarea>
                                </div>
                                <div id="htmlEditorActions">
                                    <button type="submit" class="btn btn-success">保存更改</button>
                                    <button type="button" class="btn btn-secondary" id="cancelHtmlEdit">取消</button>
                                </div>
                            </form>
                        </div>
                    </div>
                    
                    <!-- 首页详细内容编辑 -->
                    <div class="content-section">
                        <h3 id="indexPageContentForm">首页详细内容编辑</h3>
                        <div class="alert alert-info">
                            <strong>提示:</strong> 在这里您可以编辑首页上的各个文本元素，无需编辑HTML代码。修改后点击"保存更改"按钮即可更新网站。
                        </div>
                        
                        <form id="indexDetailForm">
                            <div class="card mb-4">
                                <div class="card-header bg-primary text-white">
                                    <h5 class="mb-0">页面主要内容</h5>
                                </div>
                                <div class="card-body">
                                    <div class="form-group">
                                        <label for="mainTitle">页面大标题:</label>
                                        <input type="text" class="form-control" id="mainTitle" name="mainTitle" 
                                               placeholder="A New Place For Professional Gamers">
                                    </div>
                                    <div class="form-group">
                                        <label for="mainDescription">大标题下的描述文字:</label>
                                        <textarea class="form-control" id="mainDescription" name="mainDescription" rows="3"
                                                  placeholder="Duis aute irure dolor in reprehenderit"></textarea>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="readMoreText">Read More 按钮文字:</label>
                                                <input type="text" class="form-control" id="readMoreText" name="readMoreText" 
                                                       placeholder="Read More">
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="readMoreLink">Read More 按钮链接:</label>
                                                <input type="text" class="form-control" id="readMoreLink" name="readMoreLink" 
                                                       placeholder="about.html">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="joinUsText">Join Us 按钮文字:</label>
                                                <input type="text" class="form-control" id="joinUsText" name="joinUsText" 
                                                       placeholder="Join Us">
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="joinUsLink">Join Us 按钮链接:</label>
                                                <input type="text" class="form-control" id="joinUsLink" name="joinUsLink" 
                                                       placeholder="contact.html">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="card mb-4">
                                <div class="card-header bg-primary text-white">
                                    <h5 class="mb-0">游戏相关内容</h5>
                                </div>
                                <div class="card-body">
                                    <div class="form-group">
                                        <label for="trendingGamesTitle">游戏区域标题:</label>
                                        <input type="text" class="form-control" id="trendingGamesTitle" name="trendingGamesTitle" 
                                               placeholder="Trending Games">
                                    </div>
                                    
                                    <h6 class="mt-4">游戏平台选项卡:</h6>
                                    <div class="row">
                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label for="tabAll">全部选项卡:</label>
                                                <input type="text" class="form-control" id="tabAll" name="tabAll" 
                                                       placeholder="ALL">
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label for="tabOrigin">主要选项卡:</label>
                                                <input type="text" class="form-control" id="tabOrigin" name="tabOrigin" 
                                                       placeholder="ORIGIN">
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label for="tabPlaystation">Playstation选项卡:</label>
                                                <input type="text" class="form-control" id="tabPlaystation" name="tabPlaystation" 
                                                       placeholder="PLAYSTATION 4">
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <h6 class="mt-4">热门游戏配置:</h6>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="game1Name">游戏1名称:</label>
                                                <input type="text" class="form-control" id="game1Name" name="game1Name" 
                                                       placeholder="Pubg">
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="game2Name">游戏2名称:</label>
                                                <input type="text" class="form-control" id="game2Name" name="game2Name" 
                                                       placeholder="Call Of Duty">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="card mb-4">
                                <div class="card-header bg-primary text-white">
                                    <h5 class="mb-0">比赛相关内容</h5>
                                </div>
                                <div class="card-body">
                                    <div class="form-group">
                                        <label for="gamingTournamentsTitle">游戏比赛区域标题:</label>
                                        <input type="text" class="form-control" id="gamingTournamentsTitle" name="gamingTournamentsTitle" 
                                               placeholder="Gaming Tournaments On One Place">
                                    </div>
                                    <div class="form-group">
                                        <label for="gamingTournamentsDesc">游戏比赛区域描述:</label>
                                        <textarea class="form-control" id="gamingTournamentsDesc" name="gamingTournamentsDesc" rows="3"
                                                  placeholder="Quis nostrum exercitationem ullam corporis"></textarea>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="upcomingMatchesTitle">即将到来的比赛标题:</label>
                                        <input type="text" class="form-control" id="upcomingMatchesTitle" name="upcomingMatchesTitle" 
                                               placeholder="Upcoming Matches">
                                    </div>
                                    
                                    <h6 class="mt-4">比赛1配置:</h6>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="match1Name">比赛名称:</label>
                                                <input type="text" class="form-control" id="match1Name" name="match1Name" 
                                                       placeholder="Call Of Duty Tournament">
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label for="match1Date">比赛日期:</label>
                                                <input type="text" class="form-control" id="match1Date" name="match1Date" 
                                                       placeholder="March 29,2021">
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label for="match1Time">比赛时间:</label>
                                                <input type="text" class="form-control" id="match1Time" name="match1Time" 
                                                       placeholder="4:00 Pm">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label for="match1Groups">分组:</label>
                                                <input type="text" class="form-control" id="match1Groups" name="match1Groups" 
                                                       placeholder="2 Groups">
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label for="match1Players">玩家数:</label>
                                                <input type="text" class="form-control" id="match1Players" name="match1Players" 
                                                       placeholder="32 Players">
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label for="match1PrizeLabel">奖池标签:</label>
                                                <input type="text" class="form-control" id="match1PrizeLabel" name="match1PrizeLabel" 
                                                       placeholder="Prize Pool">
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label for="match1Prize">奖金:</label>
                                                <input type="text" class="form-control" id="match1Prize" name="match1Prize" 
                                                       placeholder="$5000">
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="form-group mt-4">
                                        <label for="viewAllText">View All 按钮文字:</label>
                                        <input type="text" class="form-control" id="viewAllText" name="viewAllText" 
                                               placeholder="View All">
                                    </div>
                                </div>
                            </div>
                            
                            <div class="card mb-4">
                                <div class="card-header bg-primary text-white">
                                    <h5 class="mb-0">直播与产品内容</h5>
                                </div>
                                <div class="card-body">
                                    <div class="form-group">
                                        <label for="liveStreamingTitle">直播区域标题:</label>
                                        <input type="text" class="form-control" id="liveStreamingTitle" name="liveStreamingTitle" 
                                               placeholder="Check Our Live Streaming">
                                    </div>
                                    <div class="form-group">
                                        <label for="videoTitle">视频标题:</label>
                                        <input type="text" class="form-control" id="videoTitle" name="videoTitle" 
                                               placeholder="Team League - Fortnite Game">
                                    </div>
                                    
                                    <div class="form-group mt-4">
                                        <label for="productsTitle">产品区域标题:</label>
                                        <input type="text" class="form-control" id="productsTitle" name="productsTitle" 
                                               placeholder="Explore Our Products">
                                    </div>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="product1Name">产品1名称:</label>
                                                <input type="text" class="form-control" id="product1Name" name="product1Name" 
                                                       placeholder="Gaming Handle">
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="product1Price">产品1价格:</label>
                                                <input type="text" class="form-control" id="product1Price" name="product1Price" 
                                                       placeholder="$44">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="card mb-4">
                                <div class="card-header bg-primary text-white">
                                    <h5 class="mb-0">博客与联系内容</h5>
                                </div>
                                <div class="card-body">
                                    <div class="form-group">
                                        <label for="joinUsTitle">加入我们区域标题:</label>
                                        <input type="text" class="form-control" id="joinUsTitle" name="joinUsTitle" 
                                               placeholder="Join Us As a Super Fans">
                                    </div>
                                    <div class="form-group">
                                        <label for="joinUsBenefits">加入我们优势文字:</label>
                                        <input type="text" class="form-control" id="joinUsBenefits" name="joinUsBenefits" 
                                               placeholder="Get All The Benefits">
                                    </div>
                                    <div class="form-group">
                                        <label for="joinUsDesc">加入我们描述:</label>
                                        <textarea class="form-control" id="joinUsDesc" name="joinUsDesc" rows="3"
                                                  placeholder="Quis nostrum exercitationem ullam corporis"></textarea>
                                    </div>
                                    
                                    <div class="form-group mt-4">
                                        <label for="blogPostsTitle">博客区域标题:</label>
                                        <input type="text" class="form-control" id="blogPostsTitle" name="blogPostsTitle" 
                                               placeholder="Latest Blog Posts">
                                    </div>
                                    <div class="form-group">
                                        <label for="blogDate">博客日期格式:</label>
                                        <input type="text" class="form-control" id="blogDate" name="blogDate" 
                                               placeholder="25 Oct,2020 | by admin">
                                    </div>
                                    <div class="form-group">
                                        <label for="blogTitle">博客标题:</label>
                                        <input type="text" class="form-control" id="blogTitle" name="blogTitle" 
                                               placeholder="Magni dolores eos qui ratione">
                                    </div>
                                    
                                    <div class="form-group mt-4">
                                        <label for="contactTitle">联系表单标题:</label>
                                        <input type="text" class="form-control" id="contactTitle" name="contactTitle" 
                                               placeholder="Get In Touch With Us">
                                    </div>
                                    <div class="form-group">
                                        <label for="subscribeTitle">订阅区域标题:</label>
                                        <input type="text" class="form-control" id="subscribeTitle" name="subscribeTitle" 
                                               placeholder="Subscribe To Our Newsletter">
                                    </div>
                                    <div class="form-group">
                                        <label for="subscribeText">订阅描述文字:</label>
                                        <input type="text" class="form-control" id="subscribeText" name="subscribeText" 
                                               placeholder="Speical Discounts">
                                    </div>
                                    <div class="form-group">
                                        <label for="emailPlaceholder">邮箱输入框占位文字:</label>
                                        <input type="text" class="form-control" id="emailPlaceholder" name="emailPlaceholder" 
                                               placeholder="Enter Your Email Address">
                                    </div>
                                </div>
                            </div>
                            
                            <button type="submit" class="btn btn-lg btn-success">保存所有首页内容修改</button>
                            <button type="button" class="btn btn-secondary" onclick="loadIndexContentFromHTML()">从HTML重新加载</button>
                        </form>
                    </div>
                </div>
                
                <!-- 关于我们管理 -->
                <div class="section-editor" id="about-section">
                    <h2>关于我们页面管理</h2>
                    <div class="d-flex justify-content-between align-items-center mb-4">
                        <div class="alert alert-info mb-0">
                            <i class="fas fa-info-circle"></i> 在这里您可以编辑"关于我们"页面的内容。修改后点击保存按钮立即更新页面。
                        </div>
                        <button type="button" class="btn btn-outline-secondary" id="initAboutData">
                            <i class="fas fa-sync-alt"></i> 初始化默认数据
                        </button>
                    </div>
                    
                    <div class="content-section">
                        <form id="aboutForm">
                            <ul class="nav nav-tabs" id="aboutTabs" role="tablist">
                                <li class="nav-item">
                                    <a class="nav-link active" id="basic-tab" data-toggle="tab" href="#basic" role="tab">基本信息</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" id="video-tab" data-toggle="tab" href="#video" role="tab">视频区域</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" id="game-tab" data-toggle="tab" href="#game" role="tab">游戏介绍</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" id="team-tab" data-toggle="tab" href="#team" role="tab">团队成员</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" id="reviews-tab" data-toggle="tab" href="#reviews" role="tab">客户评价</a>
                                </li>
                            </ul>
                            
                            <div class="tab-content p-3 border border-top-0 rounded-bottom" id="aboutTabContent">
                                <!-- 基本信息 -->
                                <div class="tab-pane fade show active" id="basic" role="tabpanel">
                                    <div class="form-group">
                                        <label for="title">页面标题:</label>
                                        <input type="text" class="form-control" id="title" name="title" placeholder="About | Crox E-Sports">
                                    </div>
                                </div>
                                
                                <!-- 视频区域 -->
                                <div class="tab-pane fade" id="video" role="tabpanel">
                                    <div class="form-group">
                                        <label for="videoUrl">视频URL:</label>
                                        <input type="text" class="form-control" id="videoUrl" name="videoUrl" placeholder="../assets/file/25628048.mp4">
                                    </div>
                                    <div class="form-group">
                                        <label for="videoThumbnail">视频缩略图:</label>
                                        <div class="input-group">
                                            <input type="text" class="form-control" id="videoThumbnail" name="videoThumbnail" placeholder="../assets/picture/about_video.png">
                                            <div class="input-group-append">
                                                <button class="btn btn-outline-secondary media-browser" type="button" data-target="videoThumbnail">选择图片</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- 游戏介绍 -->
                                <div class="tab-pane fade" id="game" role="tabpanel">
                                    <div class="form-group">
                                        <label for="gameTitle">游戏标题:</label>
                                        <input type="text" class="form-control" id="gameTitle" name="gameTitle" placeholder="Play Fun And Enjoy The Games">
                                    </div>
                                    <div class="form-group">
                                        <label for="gameDescription">游戏描述:</label>
                                        <textarea class="form-control" id="gameDescription" name="gameDescription" rows="4"></textarea>
                                    </div>
                                    <div class="form-group">
                                        <label for="gameImage">游戏图片:</label>
                                        <div class="input-group">
                                            <input type="text" class="form-control" id="gameImage" name="gameImage" placeholder="../assets/picture/about_game.png">
                                            <div class="input-group-append">
                                                <button class="btn btn-outline-secondary media-browser" type="button" data-target="gameImage">选择图片</button>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="ctaButtonText">按钮文本:</label>
                                        <input type="text" class="form-control" id="ctaButtonText" name="ctaButtonText" placeholder="Join Now">
                                    </div>
                                    <div class="form-group">
                                        <label for="ctaButtonLink">按钮链接:</label>
                                        <input type="text" class="form-control" id="ctaButtonLink" name="ctaButtonLink" placeholder="signup.html">
                                    </div>
                                </div>
                                
                                <!-- 团队成员 -->
                                <div class="tab-pane fade" id="team" role="tabpanel">
                                    <div class="form-group">
                                        <label for="teamTitle">团队标题:</label>
                                        <input type="text" class="form-control" id="teamTitle" name="teamTitle" placeholder="Our Team Members">
                                    </div>
                                    
                                    <div id="teamMembers">
                                        <!-- 团队成员将通过JavaScript动态添加 -->
                                    </div>
                                    
                                    <button type="button" class="btn btn-outline-success mt-3" id="addTeamMember">
                                        <i class="fas fa-plus"></i> 添加团队成员
                                    </button>
                                </div>
                                
                                <!-- 客户评价 -->
                                <div class="tab-pane fade" id="reviews" role="tabpanel">
                                    <div class="form-group">
                                        <label for="reviewTitle">评价标题:</label>
                                        <input type="text" class="form-control" id="reviewTitle" name="reviewTitle" placeholder="Clients Reviews">
                                    </div>
                                    
                                    <div id="clientReviews">
                                        <!-- 客户评价将通过JavaScript动态添加 -->
                                    </div>
                                    
                                    <button type="button" class="btn btn-outline-success mt-3" id="addReview">
                                        <i class="fas fa-plus"></i> 添加客户评价
                                    </button>
                                </div>
                            </div>
                            
                            <div class="mt-3">
                                <button type="submit" class="btn btn-primary">保存所有修改</button>
                                <button type="button" class="btn btn-secondary" id="previewAbout">预览页面</button>
                            </div>
                        </form>
                    </div>
                </div>
                
                <!-- 服务内容管理 -->
                <div class="section-editor" id="services-section">
                    <h2>服务内容</h2>
                    <div class="card">
                        <div class="card-header">
                            服务项目管理
                        </div>
                        <div class="card-body">
                            <form id="servicesForm">
                                <div class="form-group">
                                    <label for="servicesTitle">服务板块标题</label>
                                    <input type="text" class="form-control" id="servicesTitle" name="title" placeholder="输入服务板块的总标题">
                                </div>
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <label>服务1</label>
                                            <input type="text" class="form-control mb-2" name="service1Title" placeholder="服务名称">
                                            <textarea class="form-control" name="service1Description" rows="3" placeholder="服务描述"></textarea>
                                            <input type="text" class="form-control mt-2" name="service1Icon" placeholder="图标类名 (例: fas fa-chart-line)">
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <label>服务2</label>
                                            <input type="text" class="form-control mb-2" name="service2Title" placeholder="服务名称">
                                            <textarea class="form-control" name="service2Description" rows="3" placeholder="服务描述"></textarea>
                                            <input type="text" class="form-control mt-2" name="service2Icon" placeholder="图标类名 (例: fas fa-cog)">
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <label>服务3</label>
                                            <input type="text" class="form-control mb-2" name="service3Title" placeholder="服务名称">
                                            <textarea class="form-control" name="service3Description" rows="3" placeholder="服务描述"></textarea>
                                            <input type="text" class="form-control mt-2" name="service3Icon" placeholder="图标类名 (例: fas fa-briefcase)">
                                        </div>
                                    </div>
                                </div>
                                <button type="submit" class="btn btn-primary">保存修改</button>
                            </form>
                        </div>
                    </div>
                </div>
                
                <!-- 案例展示管理 -->
                <div class="section-editor" id="portfolio-section">
                    <h2>案例展示</h2>
                    <div class="card">
                        <div class="card-header">
                            案例板块管理
                        </div>
                        <div class="card-body">
                            <form id="portfolioForm">
                                <div class="form-group">
                                    <label for="portfolioTitle">案例板块标题</label>
                                    <input type="text" class="form-control" id="portfolioTitle" name="title" placeholder="输入案例板块的总标题">
                                </div>
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <label>案例1</label>
                                            <input type="text" class="form-control mb-2" name="portfolio1Title" placeholder="案例名称">
                                            <input type="text" class="form-control mb-2" name="portfolio1ImageUrl" placeholder="案例图片URL">
                                            <textarea class="form-control" name="portfolio1Description" rows="2" placeholder="案例简短描述"></textarea>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <label>案例2</label>
                                            <input type="text" class="form-control mb-2" name="portfolio2Title" placeholder="案例名称">
                                            <input type="text" class="form-control mb-2" name="portfolio2ImageUrl" placeholder="案例图片URL">
                                            <textarea class="form-control" name="portfolio2Description" rows="2" placeholder="案例简短描述"></textarea>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <label>案例3</label>
                                            <input type="text" class="form-control mb-2" name="portfolio3Title" placeholder="案例名称">
                                            <input type="text" class="form-control mb-2" name="portfolio3ImageUrl" placeholder="案例图片URL">
                                            <textarea class="form-control" name="portfolio3Description" rows="2" placeholder="案例简短描述"></textarea>
                                        </div>
                                    </div>
                                </div>
                                <button type="submit" class="btn btn-primary">保存修改</button>
                            </form>
                        </div>
                    </div>
                </div>
                
                <!-- 团队成员管理 -->
                <div class="section-editor" id="team-section">
                    <h2>团队成员</h2>
                    <div class="card">
                        <div class="card-header">
                            团队成员管理
                        </div>
                        <div class="card-body">
                            <form id="teamForm">
                                <div class="form-group">
                                    <label for="teamTitle">团队板块标题</label>
                                    <input type="text" class="form-control" id="teamTitle" name="title" placeholder="输入团队板块的总标题">
                                </div>
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <label>成员1</label>
                                            <input type="text" class="form-control mb-2" name="member1Name" placeholder="成员姓名">
                                            <input type="text" class="form-control mb-2" name="member1Position" placeholder="职位">
                                            <input type="text" class="form-control mb-2" name="member1ImageUrl" placeholder="成员照片URL">
                                            <textarea class="form-control" name="member1Bio" rows="2" placeholder="个人简介"></textarea>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <label>成员2</label>
                                            <input type="text" class="form-control mb-2" name="member2Name" placeholder="成员姓名">
                                            <input type="text" class="form-control mb-2" name="member2Position" placeholder="职位">
                                            <input type="text" class="form-control mb-2" name="member2ImageUrl" placeholder="成员照片URL">
                                            <textarea class="form-control" name="member2Bio" rows="2" placeholder="个人简介"></textarea>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <label>成员3</label>
                                            <input type="text" class="form-control mb-2" name="member3Name" placeholder="成员姓名">
                                            <input type="text" class="form-control mb-2" name="member3Position" placeholder="职位">
                                            <input type="text" class="form-control mb-2" name="member3ImageUrl" placeholder="成员照片URL">
                                            <textarea class="form-control" name="member3Bio" rows="2" placeholder="个人简介"></textarea>
                                        </div>
                                    </div>
                                </div>
                                <button type="submit" class="btn btn-primary">保存修改</button>
                            </form>
                        </div>
                    </div>
                </div>
                
                <!-- 联系方式管理 -->
                <div class="section-editor" id="contact-section">
                    <h2>联系方式</h2>
                    <div class="card">
                        <div class="card-header">
                            联系方式管理
                        </div>
                        <div class="card-body">
                            <form id="contactForm">
                                <div class="form-group">
                                    <label for="contactTitle">联系我们标题</label>
                                    <input type="text" class="form-control" id="contactTitle" name="title" placeholder="输入联系我们的标题">
                                </div>
                                <div class="form-group">
                                    <label for="contactAddress">公司地址</label>
                                    <input type="text" class="form-control" id="contactAddress" name="address" placeholder="输入公司地址">
                                </div>
                                <div class="form-group">
                                    <label for="contactPhone">联系电话</label>
                                    <input type="text" class="form-control" id="contactPhone" name="phone" placeholder="输入联系电话">
                                </div>
                                <div class="form-group">
                                    <label for="contactEmail">电子邮件</label>
                                    <input type="email" class="form-control" id="contactEmail" name="email" placeholder="输入电子邮件">
                                </div>
                                <div class="form-group">
                                    <label for="contactWeChat">微信公众号</label>
                                    <input type="text" class="form-control" id="contactWeChat" name="wechat" placeholder="输入微信公众号">
                                </div>
                                <button type="submit" class="btn btn-primary">保存修改</button>
                            </form>
                        </div>
                    </div>
                </div>
                
                <!-- 媒体管理 -->
                <div class="section-editor" id="media-section">
                    <h2>媒体管理</h2>
                    <div class="alert alert-info">
                        <strong>提示:</strong> 在这里您可以直接上传和管理网站中使用的图片和视频文件。上传后的文件将保存到您的设备上，并可以在网站中使用。
                    </div>
                    
                    <div class="card mb-4">
                        <div class="card-header bg-primary text-white">
                            <h5 class="mb-0">图片管理</h5>
                        </div>
                        <div class="card-body">
                            <div class="row mb-4">
                                <div class="col-md-6">
                                    <button type="button" class="btn btn-success" data-toggle="modal" data-target="#uploadImageModal">
                                        <i class="fas fa-upload"></i> 上传新图片
                                    </button>
                                </div>
                            </div>
                            
                            <!-- 添加图片分类过滤器 -->
                            <div id="imageCategoryFilter" class="media-category-filter mb-3">
                                <h6 class="filter-title mb-2">按分类筛选:</h6>
                                <div class="btn-group btn-group-sm" role="group">
                                    <button type="button" class="btn btn-outline-secondary active" data-category="all">全部</button>
                                    <button type="button" class="btn btn-outline-secondary" data-category="header">头部图片</button>
                                    <button type="button" class="btn btn-outline-secondary" data-category="product">产品图片</button>
                                    <button type="button" class="btn btn-outline-secondary" data-category="background">背景图片</button>
                                    <button type="button" class="btn btn-outline-secondary" data-category="team">团队成员</button>
                                    <button type="button" class="btn btn-outline-secondary" data-category="remote">远程图片</button>
                                    <button type="button" class="btn btn-outline-secondary" data-category="other">其他</button>
                                </div>
                            </div>
                            
                            <h5 class="mb-3">图片库</h5>
                            <div id="imageGallery" class="row">
                                <!-- 图片库由JS加载 -->
                                <div id="noImagesMessage" class="col-12 text-center mt-3">
                                    <p class="text-muted">暂无上传的图片</p>
                                </div>
                            </div>
                            <h5 class="mt-4 mb-3">网站现有图片</h5>
                            <div id="existingSiteImages" class="row">
                                <!-- 网站上使用的图片由JS加载 -->
                            </div>
                        </div>
                    </div>
                    
                    <div class="card">
                        <div class="card-header bg-primary text-white">
                            <h5 class="mb-0">视频管理</h5>
                        </div>
                        <div class="card-body">
                            <div class="row mb-4">
                                <div class="col-md-6">
                                    <button type="button" class="btn btn-success" data-toggle="modal" data-target="#uploadVideoModal">
                                        <i class="fas fa-upload"></i> 上传新视频
                                    </button>
                                </div>
                            </div>
                            
                            <!-- 添加视频分类过滤器 -->
                            <div id="videoCategoryFilter" class="media-category-filter mb-3">
                                <h6 class="filter-title mb-2">按分类筛选:</h6>
                                <div class="btn-group btn-group-sm" role="group">
                                    <button type="button" class="btn btn-outline-secondary active" data-category="all">全部</button>
                                    <button type="button" class="btn btn-outline-secondary" data-category="intro">介绍视频</button>
                                    <button type="button" class="btn btn-outline-secondary" data-category="game">游戏视频</button>
                                    <button type="button" class="btn btn-outline-secondary" data-category="product">产品视频</button>
                                    <button type="button" class="btn btn-outline-secondary" data-category="remote">远程视频</button>
                                    <button type="button" class="btn btn-outline-secondary" data-category="other">其他</button>
                                </div>
                            </div>
                            
                            <h5 class="mb-3">视频库</h5>
                            <div id="videoGallery" class="row">
                                <!-- 视频库由JS加载 -->
                                <div id="noVideosMessage" class="col-12 text-center mt-3">
                                    <p class="text-muted">暂无上传的视频</p>
                                </div>
                            </div>
                            <h5 class="mt-4 mb-3">网站现有视频</h5>
                            <div id="existingSiteVideos" class="row">
                                <!-- 网站上使用的视频由JS加载 -->
                            </div>
                        </div>
                    </div>
                    
                    <!-- 新增背景图片管理卡片 -->
                    <div class="card mt-4">
                        <div class="card-header bg-primary text-white">
                            <h5 class="mb-0">背景图片管理</h5>
                        </div>
                        <div class="card-body">
                            <div class="row mb-4">
                                <div class="col-md-6">
                                    <button type="button" class="btn btn-success" data-toggle="modal" data-target="#uploadBackgroundModal">
                                        <i class="fas fa-upload"></i> 上传新背景图片
                                    </button>
                                </div>
                            </div>
                            
                            <!-- 添加背景图片分类过滤器 -->
                            <div id="backgroundCategoryFilter" class="media-category-filter mb-3">
                                <h6 class="filter-title mb-2">按分类筛选:</h6>
                                <div class="btn-group btn-group-sm" role="group">
                                    <button type="button" class="btn btn-outline-secondary active" data-category="all">全部</button>
                                    <button type="button" class="btn btn-outline-secondary" data-category="default">默认背景</button>
                                    <button type="button" class="btn btn-outline-secondary" data-category="game">游戏背景</button>
                                    <button type="button" class="btn btn-outline-secondary" data-category="remote">远程背景</button>
                                    <button type="button" class="btn btn-outline-secondary" data-category="other">其他</button>
                                </div>
                            </div>
                            
                            <div class="alert alert-info">
                                <strong>提示:</strong> 背景图片通常用于页面的背景、横幅区域或特殊展示区域。更改背景将影响网站的整体视觉效果。
                            </div>
                            <h5 class="mb-3">背景图片库</h5>
                            <div id="backgroundGallery" class="row">
                                <!-- 背景图片库由JS加载 -->
                                <div id="noBackgroundsMessage" class="col-12 text-center mt-3">
                                    <p class="text-muted">暂无上传的背景图片</p>
                                </div>
                            </div>
                            <h5 class="mt-4 mb-3">网站现有背景图片</h5>
                            <div id="existingSiteBackgrounds" class="row">
                                <!-- 网站上使用的背景图片由JS加载 -->
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../assets/js/media-manager.js"></script>
    <script src="../assets/js/match-preview.js"></script>
    <script src="../assets/js/match-sync.js"></script>
    <script src="../assets/js/team-logo-uploader.js"></script>
    <script src="js/default-data.js"></script>
    <script>
        // 滚动到指定元素的辅助函数
        function scrollToElement(selector) {
            setTimeout(function() {
                const element = $(selector);
                if (element.length) {
                    // 首先确保该部分可见
                    const sectionId = 'home-section';
                    showSection(sectionId);
                    
                    // 然后滚动到目标元素
                    $('html, body').animate({
                        scrollTop: element.offset().top - 100
                    }, 500);
                    
                    // 高亮显示目标区域
                    element.addClass('highlight-section');
                    setTimeout(function() {
                        element.removeClass('highlight-section');
                    }, 2000);
                }
            }, 100);
            return false; // 阻止默认链接行为
        }
        
        // 内联版本的admin.js,以解决重定向问题
        document.addEventListener('DOMContentLoaded', function() {
            console.log('管理后台页面已加载');
            
            // 确保已经登录
            const isLoggedIn = sessionStorage.getItem('adminLoggedIn');
            const adminEmail = sessionStorage.getItem('adminEmail');
            const token = sessionStorage.getItem('adminToken');
            
            console.log('登录状态:', { isLoggedIn, adminEmail, token });
            
            if (!isLoggedIn || adminEmail !== 'an920513@gmail.com') {
                console.log('未登录，重定向到登录页面');
                window.location.href = 'login.html';
                return;
            }
            
            // 清除所有相关数据并重新初始化 (临时调试)
            clearAndInitializeData();
            
            // 尝试从websiteContent加载所有内容
            // loadAllContent();
            
            // 初始化侧边栏点击事件
            const sidebarLinks = document.querySelectorAll('.nav-link[data-section]');
            sidebarLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    // 移除所有链接的活动状态
                    sidebarLinks.forEach(l => l.classList.remove('active'));
                    
                    // 为当前点击的链接添加活动状态
                    this.classList.add('active');
                    
                    // 显示相应的内容区域
                    const sectionId = this.getAttribute('data-section');
                    showSection(sectionId);
                });
            });
            
            // 初始化表单提交
            const forms = document.querySelectorAll('form');
            forms.forEach(form => {
                form.addEventListener('submit', function(e) {
                    e.preventDefault();
                    
                    // 收集表单数据
                    const formData = new FormData(this);
                    const data = {};
                    for(let [key, value] of formData.entries()) {
                        data[key] = value;
                    }
                    
                    // 保存数据
                    saveToLocalStorage(this.id, data);
                    
                    // 显示成功消息
                    showSuccessMessage();
                });
                
                // 不在这里加载数据，使用集中的loadAllContent方法
                // loadFromLocalStorage(form.id);
            });
            
            // 初始化退出按钮
            const logoutButton = document.getElementById('logoutButton');
            if(logoutButton) {
                logoutButton.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    // 清除会话存储
                    sessionStorage.removeItem('adminLoggedIn');
                    sessionStorage.removeItem('adminEmail');
                    sessionStorage.removeItem('adminToken');
                    
                    // 重定向到登录页面
                    window.location.href = 'login.html';
                });
            }
            
            // 添加同步按钮
            const syncButton = document.createElement('button');
            syncButton.className = 'btn btn-success position-fixed';
            syncButton.style.bottom = '20px';
            syncButton.style.right = '20px';
            syncButton.style.zIndex = '1000';
            syncButton.innerHTML = '<i class="fas fa-sync"></i> 同步到前台';
            syncButton.addEventListener('click', syncToFrontend);
            document.body.appendChild(syncButton);
        });
        
        // 同步到前台网站
        function syncToFrontend() {
            try {
                // 获取所有保存的数据
                const allData = {};
                
                // 获取所有表单ID
                const formIds = [
                    'homeHeaderForm', 
                    'featuredServicesForm', 
                    'upcomingMatchesForm',
                    'aboutForm',
                    'servicesForm',
                    'portfolioForm',
                    'teamForm',
                    'contactForm',
                    'mediaForm'
                ];
                
                // 收集所有表单数据
                formIds.forEach(formId => {
                    const form = document.getElementById(formId);
                    if(form) {
                        // 收集表单数据
                        const formData = new FormData(form);
                        const data = {};
                        for(let [key, value] of formData.entries()) {
                            data[key] = value;
                        }
                        
                        // 保存到各自的localStorage
                        localStorage.setItem(formId, JSON.stringify(data));
                        
                        // 添加到总数据对象
                        allData[formId] = data;
                    } else {
                        const formData = localStorage.getItem(formId);
                        if(formData) {
                            allData[formId] = JSON.parse(formData);
                        }
                    }
                });
                
                // 保存到全局数据存储中
                localStorage.setItem('websiteContent', JSON.stringify(allData));
                console.log('保存的网站内容数据:', allData);
                
                // 移除之前创建的脚本元素（如果存在）
                const oldScript = document.getElementById('update-script');
                if (oldScript) {
                    oldScript.remove();
                }
                
                // 创建更新前台的脚本，使用时间戳确保变量名唯一
                const timestamp = new Date().getTime();
                const updateScript = document.createElement('script');
                updateScript.id = 'update-script';
                updateScript.innerHTML = `
                    // 创建一个自定义事件，通知前台更新内容
                    const updateEvent_${timestamp} = new CustomEvent('adminContentUpdated', {
                        detail: ${JSON.stringify(allData)}
                    });
                    
                    // 触发事件
                    window.dispatchEvent(updateEvent_${timestamp});
                    
                    // 如果在同一域名下，可以直接访问前台页面的localStorage
                    try {
                        // 保存到全局存储以便前台访问
                        localStorage.setItem('websiteContent', JSON.stringify(${JSON.stringify(allData)}));
                        console.log('前台内容更新成功');
                    } catch(e) {
                        console.error('保存到localStorage失败:', e);
                    }
                `;
                
                document.body.appendChild(updateScript);
                
                // 通过API将修改同步到实际的HTML文件
                if(allData.homeHeaderForm) {
                    // 构建更新首页的请求
                    const updates = [
                        {
                            selector: '.banner-section-content h1',
                            content: allData.homeHeaderForm.title
                        },
                        {
                            selector: '.banner-section-content p',
                            content: allData.homeHeaderForm.description
                        }
                    ];
                    
                    // 发送API请求更新HTML文件
                    fetch('/api/content/html/update-elements', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'Authorization': `Bearer ${sessionStorage.getItem('adminToken')}`
                        },
                        body: JSON.stringify({
                            fileName: 'index.html',
                            updates: updates
                        })
                    })
                    .then(response => response.json())
                    .then(data => {
                        console.log('服务器响应:', data);
                        if(data.success) {
                            showSuccessMessage('内容已成功保存到HTML文件！');
                        } else {
                            console.error('服务器保存失败:', data.message);
                            showErrorMessage('保存到HTML文件失败: ' + data.message);
                        }
                    })
                    .catch(error => {
                        console.error('API请求失败:', error);
                        showErrorMessage('API请求失败，无法更新HTML文件');
                    });
                }
                
                // 如果有特色服务数据，也更新到HTML
                if(allData.featuredServicesForm) {
                    const serviceUpdates = [];
                    
                    // 服务1
                    if(allData.featuredServicesForm.service1Title) {
                        serviceUpdates.push({
                            selector: '.trending_content:nth-child(1) .trending_span_wrapper span',
                            content: allData.featuredServicesForm.service1Title
                        });
                    }
                    
                    // 服务2
                    if(allData.featuredServicesForm.service2Title) {
                        serviceUpdates.push({
                            selector: '.trending_content:nth-child(2) .trending_span_wrapper span',
                            content: allData.featuredServicesForm.service2Title
                        });
                    }
                    
                    // 服务3
                    if(allData.featuredServicesForm.service3Title) {
                        serviceUpdates.push({
                            selector: '.trending_content:nth-child(3) .trending_span_wrapper span',
                            content: allData.featuredServicesForm.service3Title
                        });
                    }
                    
                    if(serviceUpdates.length > 0) {
                        // 发送API请求更新HTML文件
                        fetch('/api/content/html/update-elements', {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json',
                                'Authorization': `Bearer ${sessionStorage.getItem('adminToken')}`
                            },
                            body: JSON.stringify({
                                fileName: 'index.html',
                                updates: serviceUpdates
                            })
                        })
                        .then(response => response.json())
                        .then(data => {
                            console.log('服务数据更新响应:', data);
                        })
                        .catch(error => {
                            console.error('服务数据更新失败:', error);
                        });
                    }
                }
                
                // 显示同步成功消息
                showSuccessMessage('内容已成功同步到前台网站！');
                console.log('内容已同步到前台:', allData);
                
            } catch(error) {
                console.error('同步到前台失败:', error);
                showErrorMessage('同步失败，请查看控制台获取详细信息');
            }
        }
        
        // 加载所有内容
        function loadAllContent() {
            console.log('开始加载所有内容...');
            
            // 先检查是否有"websiteContent"的数据
            const websiteContent = localStorage.getItem('websiteContent');
            if(websiteContent) {
                try {
                    const allData = JSON.parse(websiteContent);
                    console.log('从localStorage加载所有内容:', allData);
                    
                    // 加载所有表单数据
                    const formIds = [
                        'homeHeaderForm', 
                        'featuredServicesForm', 
                        'upcomingMatchesForm',
                        'aboutForm',
                        'servicesForm',
                        'portfolioForm',
                        'teamForm',
                        'contactForm',
                        'mediaForm'
                    ];
                    
                    formIds.forEach(formId => {
                        if(allData[formId]) {
                            console.log(`尝试加载 ${formId} 数据:`, allData[formId]);
                            loadFormData(formId, allData[formId]);
                        } else {
                            console.log(`没有找到 ${formId} 的数据`);
                            // 尝试直接从单独的localStorage项中获取
                            const formData = localStorage.getItem(formId);
                            if(formData) {
                                try {
                                    const data = JSON.parse(formData);
                                    console.log(`从单独存储中找到 ${formId} 数据:`, data);
                                    loadFormData(formId, data);
                                } catch(e) {
                                    console.error(`解析 ${formId} 数据出错:`, e);
                                }
                            }
                        }
                    });
                } catch(e) {
                    console.error('解析网站内容数据出错:', e);
                }
            } else {
                console.log('没有找到websiteContent数据，尝试加载单独存储的表单数据');
                
                // 尝试直接加载各个表单数据
                const formIds = [
                    'homeHeaderForm',
                    'featuredServicesForm',
                    'upcomingMatchesForm',
                    'aboutForm',
                    'servicesForm',
                    'portfolioForm',
                    'teamForm',
                    'contactForm',
                    'mediaForm'
                ];
                
                formIds.forEach(id => {
                    const savedData = localStorage.getItem(id);
                    if (savedData) {
                        try {
                            const data = JSON.parse(savedData);
                            console.log(`从单独存储中找到 ${id} 数据:`, data);
                            loadFormData(id, data);
                        } catch(e) {
                            console.error(`解析 ${id} 数据出错:`, e);
                        }
                    } else {
                        console.log(`没有找到 ${id} 的数据`);
                    }
                });
            }
            
            // 如果没有任何数据，初始化一些默认数据
            if(!localStorage.getItem('websiteContent') && !localStorage.getItem('homeHeaderForm')) {
                console.log('没有找到任何数据，初始化默认数据');
                initializeDefaultData();
            }
        }
        
        // 将数据加载到表单中
        function loadFormData(formId, data) {
            const form = document.getElementById(formId);
            if (!form) {
                console.error(`表单 ${formId} 不存在`);
                return;
            }
            
            console.log(`开始填充表单 ${formId}:`, data);
            
            for (const key in data) {
                const field = form.elements[key];
                if (field) {
                    field.value = data[key];
                    console.log(`设置字段 ${key} = ${data[key]}`);
                } else {
                    // 兼容处理奖池字段名称差异
                    if (key === 'match1PrizePool' && form.elements['match1Prize']) {
                        form.elements['match1Prize'].value = data[key];
                        console.log(`设置字段 match1Prize = ${data[key]} (从 match1PrizePool 读取)`);
                    } else if (key === 'match2PrizePool' && form.elements['match2Prize']) {
                        form.elements['match2Prize'].value = data[key];
                        console.log(`设置字段 match2Prize = ${data[key]} (从 match2PrizePool 读取)`);
                    } else if (key === 'match3PrizePool' && form.elements['match3Prize']) {
                        form.elements['match3Prize'].value = data[key];
                        console.log(`设置字段 match3Prize = ${data[key]} (从 match3PrizePool 读取)`);
                    } else if (key === 'match4PrizePool' && form.elements['match4Prize']) {
                        form.elements['match4Prize'].value = data[key];
                        console.log(`设置字段 match4Prize = ${data[key]} (从 match4PrizePool 读取)`);
                    } else {
                        console.warn(`表单 ${formId} 中未找到字段: ${key}`);
                    }
                }
            }
        }
        
        // 显示成功消息
        function showSuccessMessage(message = '修改已保存！') {
            const successMessage = document.getElementById('successMessage');
            if(successMessage) {
                successMessage.style.display = 'block';
                successMessage.innerText = message;
                // 5秒后隐藏消息
                setTimeout(() => {
                    successMessage.style.display = 'none';
                }, 5000);
            }
        }
        
        // 清除并重新初始化数据
        function clearAndInitializeData() {
            // 清除所有相关数据
            localStorage.removeItem('websiteContent');
            localStorage.removeItem('homeHeaderForm');
            localStorage.removeItem('featuredServicesForm');
            localStorage.removeItem('upcomingMatchesForm');
            localStorage.removeItem('aboutForm');
            localStorage.removeItem('servicesForm');
            localStorage.removeItem('portfolioForm');
            localStorage.removeItem('teamForm');
            localStorage.removeItem('contactForm');
            localStorage.removeItem('mediaForm');
            
            // 重新初始化数据
            initializeDefaultData();
        }
        
        // 保存表单数据并同步到前台
        function saveFormData(formId, form) {
            console.log(`保存表单 ${formId} 数据`);
            
            // 收集表单数据
            const formData = {};
            const inputs = form.querySelectorAll('input, textarea, select');
            inputs.forEach(input => {
                formData[input.name || input.id] = input.value;
            });
            
            // 保存到本地
            saveToLocalStorage(formId, formData);
            
            // 特别处理即将到来的比赛表单
            if (formId === 'upcomingMatchesForm') {
                // 调用同步函数将数据应用到前端
                if (typeof syncMatchesToFrontend === 'function') {
                    syncMatchesToFrontend();
                    showSuccessMessage('比赛信息已保存并同步到前端页面！');
                    return; // 提前返回，避免执行后面的代码
                }
            }
            
            // 获取当前的HTML内容并进行修改
            $.ajax({
                url: '/api/content/html',
                type: 'GET',
                data: { file: 'index.html' },
                success: function(response) {
                    if (response.success) {
                        let content = response.content;
                        
                        // 使用修改后的数据更新HTML
                        content = updateIndexHTML(content, formData);
                        
                        // 保存修改后的内容
                        $.ajax({
                            url: '/api/content/html',
                            type: 'POST',
                            data: {
                                file: 'index.html',
                                content: content
                            },
                            success: function() {
                                console.log('首页详细内容已更新');
                                showSuccessMessage('首页详细内容已更新！');
                            },
                            error: function(xhr, status, error) {
                                console.error('保存首页HTML失败:', error);
                                showErrorMessage('保存首页HTML失败: ' + error);
                            }
                        });
                    } else {
                        console.error('无法加载首页HTML:', response.message);
                        showErrorMessage('无法加载首页HTML: ' + response.message);
                    }
                },
                error: function(xhr, status, error) {
                    console.error('加载首页HTML失败:', error);
                    showErrorMessage('加载首页HTML失败: ' + error);
                }
            });
        }
    </script>
    
    <script>
        $(document).ready(function() {
            // 加载内容到表单
            loadAllContent();
            
            // 使用bootstrap工具提示
            $('[data-toggle="tooltip"]').tooltip();
            
            // 显示选中的内容编辑区域
            $('.sidebar .nav-link').on('click', function(e) {
                e.preventDefault();
                const targetSection = $(this).data('section');
                $('.section-editor').removeClass('active');
                $(`#${targetSection}`).addClass('active');
            });
            
            // 表单提交处理
            $('form').on('submit', function(e) {
                e.preventDefault();
                const formId = $(this).attr('id');
                saveFormData(formId, this);
            });
            
            // HTML文件编辑功能
            $('#loadHtmlBtn').on('click', function() {
                const selectedFile = $('#htmlFileSelect').val();
                if (!selectedFile) {
                    alert("请选择要编辑的HTML文件");
                    return;
                }
                
                // 显示加载中提示
                $(this).html('<span class="spinner-border spinner-border-sm"></span> 加载中...');
                $(this).prop('disabled', true);
                
                // 发送AJAX请求获取文件内容
                $.ajax({
                    url: '/api/content/html',
                    type: 'GET',
                    data: { file: selectedFile },
                    success: function(response) {
                        if (response.success) {
                            // 显示HTML编辑器并填充内容
                            $('#htmlEditor').val(response.content);
                            $('#htmlEditorContainer').show();
                            $('#htmlEditorActions').show();
                            
                            // 滚动到编辑器
                            $('html, body').animate({
                                scrollTop: $('#htmlEditorContainer').offset().top - 100
                            }, 500);
                        } else {
                            alert('无法加载文件: ' + response.message);
                        }
                    },
                    error: function(xhr, status, error) {
                        alert('加载文件失败: ' + error);
                        console.error('加载HTML文件失败:', error);
                    },
                    complete: function() {
                        // 恢复按钮状态
                        $('#loadHtmlBtn').html('加载文件内容');
                        $('#loadHtmlBtn').prop('disabled', false);
                    }
                });
            });
            
            // 保存HTML修改
            $('#htmlEditorForm').on('submit', function(e) {
                e.preventDefault();
                const selectedFile = $('#htmlFileSelect').val();
                const htmlContent = $('#htmlEditor').val();
                
                if (!selectedFile || !htmlContent) {
                    alert("请选择文件并确保有内容");
                    return;
                }
                
                // 禁用提交按钮防止重复提交
                const submitBtn = $(this).find('button[type="submit"]');
                const originalBtnText = submitBtn.html();
                submitBtn.html('<span class="spinner-border spinner-border-sm"></span> 保存中...');
                submitBtn.prop('disabled', true);
                
                // 发送AJAX请求保存文件内容
                $.ajax({
                    url: '/api/content/html',
                    type: 'POST',
                    data: { 
                        file: selectedFile,
                        content: htmlContent
                    },
                    success: function(response) {
                        if (response.success) {
                            // 显示成功消息
                            $('#successMessage').fadeIn().delay(3000).fadeOut();
                            
                            // 同步到前台
                            syncContentToFrontend();
                        } else {
                            alert('保存失败: ' + response.message);
                        }
                    },
                    error: function(xhr, status, error) {
                        alert('保存失败: ' + error);
                        console.error('保存HTML文件失败:', error);
                    },
                    complete: function() {
                        // 恢复按钮状态
                        submitBtn.html(originalBtnText);
                        submitBtn.prop('disabled', false);
                    }
                });
            });
            
            // 取消HTML编辑
            $('#cancelHtmlEdit').on('click', function() {
                $('#htmlEditor').val('');
                $('#htmlEditorContainer').hide();
                $('#htmlEditorActions').hide();
            });
        });
    </script>
    
    <script>
        // 在文档加载完成后初始化功能
        $(document).ready(function() {
            // 加载内容到表单
            loadIndexContentFromHTML();
            
            // 初始化表单提交事件
            $('#indexDetailForm').on('submit', function(e) {
                e.preventDefault();
                saveIndexDetailForm(this);
            });
            
            // 初始化侧边栏点击事件
            const sidebarLinks = document.querySelectorAll('.nav-link[data-section]');
            sidebarLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    // 移除所有链接的活动状态
                    sidebarLinks.forEach(l => l.classList.remove('active'));
                    
                    // 为当前点击的链接添加活动状态
                    this.classList.add('active');
                    
                    // 显示相应的内容区域
                    const sectionId = this.getAttribute('data-section');
                    showSection(sectionId);
                });
            });
            
            // 设置快速导航
            setupQuickNavigation();
            
            // 显示指定的内容区域
            function showSection(sectionId) {
                // 隐藏所有内容区域
                document.querySelectorAll('.section-editor').forEach(section => section.classList.remove('active'));
                
                // 显示指定的内容区域
                const targetSection = document.getElementById(sectionId);
                if(targetSection) {
                    targetSection.classList.add('active');
                }
            }
        });
        
        // 显示成功消息
        function showSuccessMessage(message = '修改已保存！') {
            const alertBox = $(`<div class="alert alert-success alert-dismissible fade show" role="alert">
                ${message}
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>`);
            
            // 添加到消息容器
            $('#messageContainer').append(alertBox);
            
            // 自动关闭
            setTimeout(function() {
                alertBox.fadeOut('slow', function() {
                    $(this).remove();
                });
            }, 3000);
        }
        
        // 显示错误消息
        function showErrorMessage(message) {
            const alertBox = $(`<div class="alert alert-danger alert-dismissible fade show" role="alert">
                ${message}
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>`);
            
            // 添加到消息容器
            $('#messageContainer').append(alertBox);
            
            // 自动关闭
            setTimeout(function() {
                alertBox.fadeOut('slow', function() {
                    $(this).remove();
                });
            }, 5000);
        }
        
        // 保存到本地存储
        function saveToLocalStorage(key, data) {
            try {
                localStorage.setItem(key, JSON.stringify(data));
                return true;
            } catch (e) {
                console.error('保存到本地存储失败:', e);
                return false;
            }
        }
        
        // 从本地存储读取
        function loadFromLocalStorage(key) {
            try {
                const data = localStorage.getItem(key);
                return data ? JSON.parse(data) : null;
            } catch (e) {
                console.error('从本地存储加载失败:', e);
                return null;
            }
        }
        
        // 设置快速导航功能
        function setupQuickNavigation() {
            $('.quick-nav-item').on('click', function() {
                const target = $(this).data('target');
                if(target) {
                    // 滚动到目标位置
                    $('html, body').animate({
                        scrollTop: $(target).offset().top - 100
                    }, 500);
                    
                    // 高亮显示目标区域
                    $(target).addClass('highlight-section');
                    setTimeout(function() {
                        $(target).removeClass('highlight-section');
                    }, 2000);
                }
            });
            
            // 为分类导航中的快速导航链接添加点击事件
            $('.quick-nav').on('click', function(e) {
                const sectionId = $(this).attr('href');
                if (sectionId && $(sectionId).length) {
                    showSection(sectionId.substring(1)); // 移除#
                }
            });
        }
        
        // 从HTML文件加载首页内容
        function loadIndexContentFromHTML() {
            $.ajax({
                url: '/api/content/html',
                type: 'GET',
                data: { file: 'index.html' },
                success: function(response) {
                    if (response.success) {
                        const content = response.content;
                        
                        // 解析内容并填充表单
                        const formData = parseIndexHTML(content);
                        
                        // 将解析出的数据填充到表单
                        for (const key in formData) {
                            $(`#${key}`).val(formData[key]);
                        }
                        
                        console.log('首页内容已从HTML加载到表单');
                        showSuccessMessage('首页内容已从HTML加载到表单');
                    } else {
                        console.error('无法加载首页HTML:', response.message);
                        showErrorMessage('无法加载首页HTML: ' + response.message);
                    }
                },
                error: function(xhr, status, error) {
                    console.error('加载首页HTML失败:', error);
                    showErrorMessage('加载首页HTML失败: ' + error);
                }
            });
        }
        
        // 解析HTML内容提取关键元素
        function parseIndexHTML(html) {
            const parser = new DOMParser();
            const doc = parser.parseFromString(html, 'text/html');
            const data = {};
            
            try {
                // 提取页面主要内容
                const banner = doc.querySelector('.banner-section');
                if (banner) {
                    // 主标题
                    const mainTitleEl = banner.querySelector('h1');
                    if (mainTitleEl) data.mainTitle = mainTitleEl.textContent.trim();
                    
                    // 描述文字
                    const descEl = banner.querySelector('p.lead');
                    if (descEl) data.mainDescription = descEl.textContent.trim();
                    
                    // 按钮文字和链接
                    const readMoreBtn = banner.querySelector('a.download_btn');
                    if (readMoreBtn) {
                        data.readMoreText = readMoreBtn.textContent.trim();
                        data.readMoreLink = readMoreBtn.getAttribute('href');
                    }
                    
                    const joinUsBtn = banner.querySelector('a.contact_btn');
                    if (joinUsBtn) {
                        data.joinUsText = joinUsBtn.textContent.trim();
                        data.joinUsLink = joinUsBtn.getAttribute('href');
                    }
                }
                
                // 游戏区域
                const trendingSection = doc.querySelector('.trending_games_section');
                if (trendingSection) {
                    const titleEl = trendingSection.querySelector('h2');
                    if (titleEl) data.trendingGamesTitle = titleEl.textContent.trim();
                    
                    // 标签页
                    const tabs = trendingSection.querySelectorAll('.nav-tabs a');
                    tabs.forEach((tab, index) => {
                        if (index === 0) data.tabAll = tab.textContent.trim();
                        if (index === 1) data.tabOrigin = tab.textContent.trim();
                        if (index === 2) data.tabPlaystation = tab.textContent.trim();
                    });
                    
                    // 游戏名称
                    const gameNames = trendingSection.querySelectorAll('.trending_content .game_name span');
                    gameNames.forEach((game, index) => {
                        if (index === 0) data.game1Name = game.textContent.trim();
                        if (index === 1) data.game2Name = game.textContent.trim();
                    });
                }
                
                // 比赛区域
                const tournamentSection = doc.querySelector('.gaming_tournament-section');
                if (tournamentSection) {
                    const titleEl = tournamentSection.querySelector('h2');
                    if (titleEl) data.gamingTournamentsTitle = titleEl.textContent.trim();
                    
                    const descEl = tournamentSection.querySelector('p');
                    if (descEl) data.gamingTournamentsDesc = descEl.textContent.trim();
                }
                
                // 即将到来的比赛
                const upcomingSection = doc.querySelector('.upcoming_matches_section');
                if (upcomingSection) {
                    const titleEl = upcomingSection.querySelector('h2');
                    if (titleEl) data.upcomingMatchesTitle = titleEl.textContent.trim();
                    
                    const matches = upcomingSection.querySelectorAll('.upcoming_matches_content');
                    if (matches.length > 0) {
                        const match = matches[0];
                        
                        // 比赛名称
                        const nameEl = match.querySelector('p');
                        if (nameEl) data.match1Name = nameEl.textContent.trim();
                        
                        // 比赛日期和时间
                        const dateTimeEls = match.querySelectorAll('.second_portion span');
                        dateTimeEls.forEach((el, index) => {
                            if (index === 0) data.match1Date = el.textContent.trim();
                            if (index === 1) data.match1Time = el.textContent.trim();
                        });
                        
                        // 比赛信息
                        const infoEls = match.querySelectorAll('.third_portion span');
                        infoEls.forEach((el, index) => {
                            if (index === 0) data.match1Groups = el.textContent.trim();
                            if (index === 1) data.match1Players = el.textContent.trim();
                            if (index === 2) data.match1PrizeLabel = el.textContent.trim();
                            if (index === 3) data.match1Prize = el.textContent.trim();
                        });
                    }
                    
                    // View All 按钮
                    const viewAllBtn = upcomingSection.querySelector('.viewall_btn');
                    if (viewAllBtn) data.viewAllText = viewAllBtn.textContent.trim();
                }
                
                // 直播区域
                const liveSection = doc.querySelector('.live_stream_section');
                if (liveSection) {
                    const titleEl = liveSection.querySelector('h2');
                    if (titleEl) data.liveStreamingTitle = titleEl.textContent.trim();
                    
                    const videoTitle = liveSection.querySelector('h4');
                    if (videoTitle) data.videoTitle = videoTitle.textContent.trim();
                }
                
                // 产品区域
                const productsSection = doc.querySelector('.products_section');
                if (productsSection) {
                    const titleEl = productsSection.querySelector('h2');
                    if (titleEl) data.productsTitle = titleEl.textContent.trim();
                    
                    const productEl = productsSection.querySelector('.products_content');
                    if (productEl) {
                        const nameEl = productEl.querySelector('h6');
                        if (nameEl) data.product1Name = nameEl.textContent.trim();
                        
                        const priceEl = productEl.querySelector('h3');
                        if (priceEl) data.product1Price = priceEl.textContent.trim();
                    }
                }
                
                // 加入我们区域
                const joinSection = doc.querySelector('.super_fan_section');
                if (joinSection) {
                    const titleEl = joinSection.querySelector('h2');
                    if (titleEl) data.joinUsTitle = titleEl.textContent.trim();
                    
                    const benefitsEl = joinSection.querySelector('h4');
                    if (benefitsEl) data.joinUsBenefits = benefitsEl.textContent.trim();
                    
                    const descEl = joinSection.querySelector('p');
                    if (descEl) data.joinUsDesc = descEl.textContent.trim();
                }
                
                // 博客区域
                const blogSection = doc.querySelector('.blog_posts_section');
                if (blogSection) {
                    const titleEl = blogSection.querySelector('h2');
                    if (titleEl) data.blogPostsTitle = titleEl.textContent.trim();
                    
                    const blogPost = blogSection.querySelector('.blog_post_content');
                    if (blogPost) {
                        const dateEl = blogPost.querySelector('.post_date');
                        if (dateEl) data.blogDate = dateEl.textContent.trim();
                        
                        const postTitleEl = blogPost.querySelector('h5');
                        if (postTitleEl) data.blogTitle = postTitleEl.textContent.trim();
                    }
                }
                
                // 联系表单和订阅
                const contactSection = doc.querySelector('.get_in_touch_section');
                if (contactSection) {
                    const titleEl = contactSection.querySelector('h2');
                    if (titleEl) data.contactTitle = titleEl.textContent.trim();
                }
                
                const subscribeSection = doc.querySelector('.subscribe_section');
                if (subscribeSection) {
                    const titleEl = subscribeSection.querySelector('h2');
                    if (titleEl) data.subscribeTitle = titleEl.textContent.trim();
                    
                    const textEl = subscribeSection.querySelector('h4');
                    if (textEl) data.subscribeText = textEl.textContent.trim();
                    
                    const emailInput = subscribeSection.querySelector('input[type="email"]');
                    if (emailInput) data.emailPlaceholder = emailInput.getAttribute('placeholder');
                }
                
            } catch (error) {
                console.error('解析HTML内容时出错:', error);
            }
            
            return data;
        }
        
        // 保存首页详细表单
        function saveIndexDetailForm(form) {
            console.log('保存首页详细内容');
            
            // 收集表单数据
            const formData = {};
            const inputs = form.querySelectorAll('input, textarea, select');
            inputs.forEach(input => {
                formData[input.id] = input.value;
            });
            
            // 保存到本地存储
            saveToLocalStorage('indexDetailForm', formData);
            
            // 获取当前的HTML内容并进行修改
            $.ajax({
                url: '/api/content/html',
                type: 'GET',
                data: { file: 'index.html' },
                success: function(response) {
                    if (response.success) {
                        let content = response.content;
                        
                        // 使用修改后的数据更新HTML
                        content = updateIndexHTML(content, formData);
                        
                        // 保存修改后的内容
                        $.ajax({
                            url: '/api/content/html',
                            type: 'POST',
                            data: {
                                file: 'index.html',
                                content: content
                            },
                            success: function() {
                                console.log('首页详细内容已更新');
                                showSuccessMessage('首页详细内容已更新！');
                            },
                            error: function(xhr, status, error) {
                                console.error('保存首页HTML失败:', error);
                                showErrorMessage('保存首页HTML失败: ' + error);
                            }
                        });
                    } else {
                        console.error('无法加载首页HTML:', response.message);
                        showErrorMessage('无法加载首页HTML: ' + response.message);
                    }
                },
                error: function(xhr, status, error) {
                    console.error('加载首页HTML失败:', error);
                    showErrorMessage('加载首页HTML失败: ' + error);
                }
            });
        }
        
        // 更新HTML内容
        function updateIndexHTML(html, formData) {
            const parser = new DOMParser();
            const doc = parser.parseFromString(html, 'text/html');
            
            try {
                // 更新页面主要内容
                const banner = doc.querySelector('.banner-section');
                if (banner) {
                    // 主标题
                    if (formData.mainTitle) {
                        const mainTitleEl = banner.querySelector('h1');
                        if (mainTitleEl) mainTitleEl.textContent = formData.mainTitle;
                    }
                    
                    // 描述文字
                    if (formData.mainDescription) {
                        const descEl = banner.querySelector('p.lead');
                        if (descEl) descEl.textContent = formData.mainDescription;
                    }
                    
                    // 按钮文字和链接
                    if (formData.readMoreText || formData.readMoreLink) {
                        const readMoreBtn = banner.querySelector('a.download_btn');
                        if (readMoreBtn) {
                            if (formData.readMoreText) readMoreBtn.textContent = formData.readMoreText;
                            if (formData.readMoreLink) readMoreBtn.setAttribute('href', formData.readMoreLink);
                        }
                    }
                    
                    if (formData.joinUsText || formData.joinUsLink) {
                        const joinUsBtn = banner.querySelector('a.contact_btn');
                        if (joinUsBtn) {
                            if (formData.joinUsText) joinUsBtn.textContent = formData.joinUsText;
                            if (formData.joinUsLink) joinUsBtn.setAttribute('href', formData.joinUsLink);
                        }
                    }
                }
                
                // 游戏区域
                const trendingSection = doc.querySelector('.trending_games_section');
                if (trendingSection) {
                    if (formData.trendingGamesTitle) {
                        const titleEl = trendingSection.querySelector('h2');
                        if (titleEl) titleEl.textContent = formData.trendingGamesTitle;
                    }
                    
                    // 标签页
                    const tabs = trendingSection.querySelectorAll('.nav-tabs a');
                    tabs.forEach((tab, index) => {
                        if (index === 0) data.tabAll = tab.textContent.trim();
                        if (index === 1) data.tabOrigin = tab.textContent.trim();
                        if (index === 2) data.tabPlaystation = tab.textContent.trim();
                    });
                    
                    // 游戏名称
                    const gameNames = trendingSection.querySelectorAll('.trending_content .game_name span');
                    gameNames.forEach((game, index) => {
                        if (index === 0) data.game1Name = game.textContent.trim();
                        if (index === 1) data.game2Name = game.textContent.trim();
                    });
                }
                
                // 比赛区域
                const tournamentSection = doc.querySelector('.gaming_tournament-section');
                if (tournamentSection) {
                    if (formData.gamingTournamentsTitle) {
                        const titleEl = tournamentSection.querySelector('h2');
                        if (titleEl) titleEl.textContent = formData.gamingTournamentsTitle;
                    }
                    
                    if (formData.gamingTournamentsDesc) {
                        const descEl = tournamentSection.querySelector('p');
                        if (descEl) descEl.textContent = formData.gamingTournamentsDesc;
                    }
                }
                
                // 即将到来的比赛
                const upcomingSection = doc.querySelector('.upcoming_matches_section');
                if (upcomingSection) {
                    if (formData.upcomingMatchesTitle) {
                        const titleEl = upcomingSection.querySelector('h2');
                        if (titleEl) titleEl.textContent = formData.upcomingMatchesTitle;
                    }
                    
                    const matches = upcomingSection.querySelectorAll('.upcoming_matches_content');
                    if (matches.length > 0) {
                        const match = matches[0];
                        
                        // 比赛名称
                        if (formData.match1Name) {
                            const nameEl = match.querySelector('p');
                            if (nameEl) nameEl.textContent = formData.match1Name;
                        }
                        
                        // 比赛日期和时间
                        const dateTimeEls = match.querySelectorAll('.second_portion span');
                        dateTimeEls.forEach((el, index) => {
                            if (index === 0) data.match1Date = el.textContent.trim();
                            if (index === 1) data.match1Time = el.textContent.trim();
                        });
                        
                        // 比赛信息
                        const infoEls = match.querySelectorAll('.third_portion span');
                        infoEls.forEach((el, index) => {
                            if (index === 0) data.match1Groups = el.textContent.trim();
                            if (index === 1) data.match1Players = el.textContent.trim();
                            if (index === 2) data.match1PrizeLabel = el.textContent.trim();
                            if (index === 3) data.match1Prize = el.textContent.trim();
                        });
                    }
                    
                    // View All 按钮
                    if (formData.viewAllText) {
                        const viewAllBtn = upcomingSection.querySelector('.viewall_btn');
                        if (viewAllBtn) viewAllBtn.textContent = formData.viewAllText;
                    }
                }
                
                // 直播区域
                const liveSection = doc.querySelector('.live_stream_section');
                if (liveSection) {
                    if (formData.liveStreamingTitle) {
                        const titleEl = liveSection.querySelector('h2');
                        if (titleEl) titleEl.textContent = formData.liveStreamingTitle;
                    }
                    
                    if (formData.videoTitle) {
                        const videoTitle = liveSection.querySelector('h4');
                        if (videoTitle) videoTitle.textContent = formData.videoTitle;
                    }
                }
                
                // 产品区域
                const productsSection = doc.querySelector('.products_section');
                if (productsSection) {
                    if (formData.productsTitle) {
                        const titleEl = productsSection.querySelector('h2');
                        if (titleEl) titleEl.textContent = formData.productsTitle;
                    }
                    
                    const productEl = productsSection.querySelector('.products_content');
                    if (productEl) {
                        if (formData.product1Name) {
                            const nameEl = productEl.querySelector('h6');
                            if (nameEl) nameEl.textContent = formData.product1Name;
                        }
                        
                        if (formData.product1Price) {
                            const priceEl = productEl.querySelector('h3');
                            if (priceEl) priceEl.textContent = formData.product1Price;
                        }
                    }
                }
                
                // 加入我们区域
                const joinSection = doc.querySelector('.super_fan_section');
                if (joinSection) {
                    if (formData.joinUsTitle) {
                        const titleEl = joinSection.querySelector('h2');
                        if (titleEl) titleEl.textContent = formData.joinUsTitle;
                    }
                    
                    if (formData.joinUsBenefits) {
                        const benefitsEl = joinSection.querySelector('h4');
                        if (benefitsEl) benefitsEl.textContent = formData.joinUsBenefits;
                    }
                    
                    if (formData.joinUsDesc) {
                        const descEl = joinSection.querySelector('p');
                        if (descEl) descEl.textContent = formData.joinUsDesc;
                    }
                }
                
                // 博客区域
                const blogSection = doc.querySelector('.blog_posts_section');
                if (blogSection) {
                    if (formData.blogPostsTitle) {
                        const titleEl = blogSection.querySelector('h2');
                        if (titleEl) titleEl.textContent = formData.blogPostsTitle;
                    }
                    
                    const blogPost = blogSection.querySelector('.blog_post_content');
                    if (blogPost) {
                        if (formData.blogDate) {
                            const dateEl = blogPost.querySelector('.post_date');
                            if (dateEl) dateEl.textContent = formData.blogDate;
                        }
                        
                        if (formData.blogTitle) {
                            const postTitleEl = blogPost.querySelector('h5');
                            if (postTitleEl) postTitleEl.textContent = formData.blogTitle;
                        }
                    }
                }
                
                // 联系表单和订阅
                const contactSection = doc.querySelector('.get_in_touch_section');
                if (contactSection) {
                    const titleEl = contactSection.querySelector('h2');
                    if (titleEl) titleEl.textContent = formData.contactTitle;
                }
                
                const subscribeSection = doc.querySelector('.subscribe_section');
                if (subscribeSection) {
                    if (formData.subscribeTitle) {
                        const titleEl = subscribeSection.querySelector('h2');
                        if (titleEl) titleEl.textContent = formData.subscribeTitle;
                    }
                    
                    if (formData.subscribeText) {
                        const textEl = subscribeSection.querySelector('h4');
                        if (textEl) textEl.textContent = formData.subscribeText;
                    }
                    
                    if (formData.emailPlaceholder) {
                        const emailInput = subscribeSection.querySelector('input[type="email"]');
                        if (emailInput) emailInput.setAttribute('placeholder', formData.emailPlaceholder);
                    }
                }
                
            } catch (error) {
                console.error('更新HTML内容时出错:', error);
            }
            
            return new XMLSerializer().serializeToString(doc);
        }
    </script>
    
    <script>
        // 关于我们页面管理所需的JavaScript函数
        // 加载关于我们页面表单数据
        function loadAboutFormData() {
            const aboutData = loadFromLocalStorage('aboutForm');
            
            if (!aboutData) {
                console.log('未找到关于我们页面数据');
                return;
            }
            
            console.log('加载关于我们页面数据:', aboutData);
            
            // 填充基本信息
            $('#title').val(aboutData.title || '');
            
            // 填充视频信息
            $('#videoUrl').val(aboutData.videoUrl || '');
            $('#videoThumbnail').val(aboutData.videoThumbnail || '');
            
            // 填充游戏介绍
            $('#gameTitle').val(aboutData.gameTitle || '');
            $('#gameDescription').val(aboutData.gameDescription || '');
            $('#gameImage').val(aboutData.gameImage || '');
            $('#ctaButtonText').val(aboutData.ctaButtonText || '');
            $('#ctaButtonLink').val(aboutData.ctaButtonLink || '');
            
            // 填充团队标题
            $('#teamTitle').val(aboutData.teamTitle || '');
            
            // 清空现有团队成员
            $('#teamMembers').empty();
            
            // 添加团队成员
            if (aboutData.teamMembers && aboutData.teamMembers.length > 0) {
                aboutData.teamMembers.forEach(function(member) {
                    addTeamMember(member);
                });
            } else {
                // 添加空团队成员
                addTeamMember();
            }
            
            // 填充评价标题
            $('#reviewTitle').val(aboutData.reviewTitle || '');
            
            // 清空现有评价
            $('#clientReviews').empty();
            
            // 添加客户评价
            if (aboutData.reviews && aboutData.reviews.length > 0) {
                aboutData.reviews.forEach(function(review) {
                    addClientReview(review);
                });
            } else {
                // 添加空评价
                addClientReview();
            }
        }
        
        // 保存关于我们页面表单数据
        function saveAboutFormData() {
            const aboutData = {
                title: $('#title').val(),
                videoUrl: $('#videoUrl').val(),
                videoThumbnail: $('#videoThumbnail').val(),
                gameTitle: $('#gameTitle').val(),
                gameDescription: $('#gameDescription').val(),
                gameImage: $('#gameImage').val(),
                ctaButtonText: $('#ctaButtonText').val(),
                ctaButtonLink: $('#ctaButtonLink').val(),
                teamTitle: $('#teamTitle').val(),
                teamMembers: [],
                reviewTitle: $('#reviewTitle').val(),
                reviews: []
            };
            
            // 收集团队成员数据
            $('.team-member-card').each(function() {
                const card = $(this);
                const member = {
                    name: card.find('.member-name').val(),
                    role: card.find('.member-role').val(),
                    image: card.find('.member-image').val()
                };
                aboutData.teamMembers.push(member);
            });
            
            // 收集客户评价数据
            $('.review-card').each(function() {
                const card = $(this);
                const review = {
                    name: card.find('.reviewer-name').val(),
                    role: card.find('.reviewer-role').val(),
                    image: card.find('.reviewer-image').val(),
                    content: card.find('.review-content').val()
                };
                aboutData.reviews.push(review);
            });
            
            // 保存到本地存储
            saveToLocalStorage('aboutForm', aboutData);
            console.log('关于我们页面数据已保存:', aboutData);
            
            // 同步到前端
            if (window.syncToFrontend) {
                window.syncToFrontend();
            }
        }
        
        // 添加团队成员
        function addTeamMember(member = null) {
            const teamMembersCount = $('.team-member-card').length;
            const teamMemberHtml = `
                <div class="card mb-3 team-member-card">
                    <div class="card-header bg-light d-flex justify-content-between align-items-center">
                        <h6 class="mb-0">团队成员 #${teamMembersCount + 1}</h6>
                        <button type="button" class="btn btn-sm btn-outline-danger remove-team-member">
                            <i class="fas fa-times"></i> 删除
                        </button>
                    </div>
                    <div class="card-body">
                        <div class="form-group">
                            <label>成员姓名:</label>
                            <input type="text" class="form-control member-name" value="${member ? member.name : ''}" placeholder="Senchy Dark">
                        </div>
                        <div class="form-group">
                            <label>职位:</label>
                            <input type="text" class="form-control member-role" value="${member ? member.role : ''}" placeholder="Pro-Player">
                        </div>
                        <div class="form-group">
                            <label>照片URL:</label>
                            <div class="input-group">
                                <input type="text" class="form-control member-image" value="${member ? member.image : ''}" placeholder="../assets/picture/team_member_1.jpg">
                                <div class="input-group-append">
                                    <button class="btn btn-outline-secondary media-browser" type="button" data-target="member-image">选择图片</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            $('#teamMembers').append(teamMemberHtml);
        }
        
        // 添加客户评价
        function addClientReview(review = null) {
            const reviewsCount = $('.review-card').length;
            const reviewHtml = `
                <div class="card mb-3 review-card">
                    <div class="card-header bg-light d-flex justify-content-between align-items-center">
                        <h6 class="mb-0">客户评价 #${reviewsCount + 1}</h6>
                        <button type="button" class="btn btn-sm btn-outline-danger remove-review">
                            <i class="fas fa-times"></i> 删除
                        </button>
                    </div>
                    <div class="card-body">
                        <div class="form-group">
                            <label>评价内容:</label>
                            <textarea class="form-control review-content" rows="3" placeholder="客户评价内容...">${review ? review.content : ''}</textarea>
                        </div>
                        <div class="form-group">
                            <label>评价人:</label>
                            <input type="text" class="form-control reviewer-name" value="${review ? review.name : ''}" placeholder="Emily Johnson">
                        </div>
                        <div class="form-group">
                            <label>职位:</label>
                            <input type="text" class="form-control reviewer-role" value="${review ? review.role : ''}" placeholder="Sponsor">
                        </div>
                        <div class="form-group">
                            <label>头像URL:</label>
                            <div class="input-group">
                                <input type="text" class="form-control reviewer-image" value="${review ? review.image : ''}" placeholder="../assets/picture/clints_review_1.jpg">
                                <div class="input-group-append">
                                    <button class="btn btn-outline-secondary media-browser" type="button" data-target="reviewer-image">选择图片</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            $('#clientReviews').append(reviewHtml);
        }
        
        // 初始化关于我们页面默认数据
        function initializeDefaultAboutData() {
            // 在这里可以直接调用默认数据初始化函数
            if (typeof window.initializeDefaultData === 'function') {
                console.log('调用默认数据初始化函数');
                window.initializeDefaultData();
                
                // 重新加载表单
                loadAboutFormData();
                
                showSuccessMessage('关于我们页面默认数据已初始化！');
            } else {
                console.error('未找到默认数据初始化函数');
                // 手动初始化数据
                const defaultAboutData = {
                    title: "About | Crox E-Sports",
                    videoUrl: "../assets/file/25628048.mp4",
                    videoThumbnail: "../assets/picture/about_video.png",
                    gameTitle: "Play Fun And Enjoy The Games",
                    gameDescription: "Our gaming community is built on the passion for competitive gaming. We bring together talented players, dedicated coaches, and enthusiastic fans to create a vibrant ecosystem for esports.",
                    gameImage: "../assets/picture/about_game.png",
                    ctaButtonText: "Join Now",
                    ctaButtonLink: "signup.html",
                    teamTitle: "Our Team Members",
                    teamMembers: [
                        {
                            name: "Senchy Dark",
                            role: "Pro-Player",
                            image: "../assets/picture/team_member_1.jpg"
                        },
                        {
                            name: "Eleten Rampel",
                            role: "Pro-Player",
                            image: "../assets/picture/team_member_2.jpg"
                        },
                        {
                            name: "Andre Park",
                            role: "Pro-Player",
                            image: "../assets/picture/team_member_3.jpg"
                        },
                        {
                            name: "Jonathan Clark",
                            role: "Pro-Player",
                            image: "../assets/picture/team_member_4.jpg"
                        }
                    ],
                    reviewTitle: "Clients Reviews",
                    reviews: [
                        {
                            name: "Emily Johnson",
                            role: "Sponsor",
                            image: "../assets/picture/clints_review_1.jpg",
                            content: "Working with Crox E-Sports has been an amazing experience. The team is professional and delivers exceptional gaming tournaments."
                        },
                        {
                            name: "Michael Wilson",
                            role: "Event Partner",
                            image: "../assets/picture/clints_review_2.jpg",
                            content: "We've partnered with Crox E-Sports for multiple gaming events, and each time they've exceeded our expectations."
                        }
                    ]
                };
                
                saveToLocalStorage('aboutForm', defaultAboutData);
                loadAboutFormData();
                showSuccessMessage('关于我们页面默认数据已初始化！');
            }
        }
        
        // 预览关于我们页面
        function previewAboutPage() {
            window.open('/about.html', '_blank');
        }
        
        // 初始化关于我们页面管理功能
        $(document).ready(function() {
            // 初始化"关于我们"页面数据
            loadAboutFormData();
            
            // 关于我们页面表单提交
            $('#aboutForm').submit(function(e) {
                e.preventDefault();
                saveAboutFormData();
                showSuccessMessage('关于我们页面内容已保存！');
            });
            
            // 初始化关于我们页面默认数据
            $('#initAboutData').click(function() {
                initializeDefaultAboutData();
            });
            
            // 添加团队成员按钮
            $('#addTeamMember').click(function() {
                addTeamMember();
            });
            
            // 添加客户评价按钮
            $('#addReview').click(function() {
                addClientReview();
            });
            
            // 删除团队成员
            $(document).on('click', '.remove-team-member', function() {
                $(this).closest('.team-member-card').remove();
            });
            
            // 删除客户评价
            $(document).on('click', '.remove-review', function() {
                $(this).closest('.review-card').remove();
            });
            
            // 预览按钮
            $('#previewAbout').click(function() {
                previewAboutPage();
            });
        });
    </script>
</body>
</html>
